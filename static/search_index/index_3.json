{"/get_started/en/usage/deploy_cdn.html":{"title":"Deploy the website generated by teedoc to CDN","content":" title: Deploy the website generated by teedoc to CDN keywords: teedoc, deployment, CDN desc: Deploy the website generated by teedoc to CDN In order to allow users in various places to access the site more quickly, you can use CDN acceleration, A brief introduction to the principle is to first put the website on an origin server, and then synchronize this resource to nodes across the country or even the world. The browser wants to access the website through the domain name. The server pointed to by this domain name only does one thing, which is to resolve the location of the browser, and then return it to the IP address of the node closest to the browser, and then the browser directly visits the nearest node To accelerate First find a CDN provider, such as Alibaba Cloud, Tencent Cloud and Qiniu Cloud. Then the steps are as follows: ## create origin server Create the source server by yourself. After the source server is updated, the service provider automatically updates to each node. Create a website according to the previous method and get `domain name A`, such as `teedoc.github.io` ## Add CDN acceleration to website If it is a service provider in China, you need to have a registered `domain name B` first, then register and log in, add a `CDN` service, and set the back to origin site to the previously established website `domain name A`. Then visit `domain name B`, the service provider will automatically pull the webpage from `domain name A` and synchronize it to each node in the country or the world, and then the user will be redirected to the `IP` of the node closest to the user when they visit `domain name B`. to ensure the fastest browsing speed"},"/get_started/en/usage/gitbook2teedoc.html":{"title":"Quickly convert from gitbook to teedoc","content":" title: Quickly convert from gitbook to teedoc keywords: gitbook, teedoc desc: Quickly convert from gitbook to teedoc, get rid of gitbook single threaded construction turtle speed Introduce how to quickly convert from gitbook to teedoc, because gitbook has stopped maintenance, and some features are no longer suitable for current use, such as single threaded construction, which is very slow. Take [re0 web](https://github.com/lyy289065406/re0 web/tree/033f5dfd7c9d3b8654b3c1ea4dabfab8b3ebebb7) as an example: The author said in the readme that it takes 30 minutes to build once, but after looking at the source code, the number of documents is not a lot, and it shouldn't take so long.After seeing that the author uses docker, and it is under windows, it is naturally very slow. The solution is to switch to the linux build, which will speed up some speed, and it is estimated that the build can be completed in 5 minutes. Teedoc has the advantage of multi threaded construction, and other functions and UI can also be satisfied, you can consider switching to teedoc (but teedoc does not support epub and pdf export (2021 05 29), if it is supported, it will be in [here](../index.html) description) Final effect: [teedoc.github.io/re0 web teedoc/](https://teedoc.github.io/re0 web teedoc/) ## New teedoc project ``` mkdir re0 web teedoc cd re0 web teedoc teedoc init teedoc install ``` Use the `teedoc serve` command to start the build and start an http service, visit `http://127.0.0.1:2333` to preview Use the `teedoc build` command to build a version that can be deployed to the server, the file is in the `out` directory, you can delete the `out` directory before building ## Copy source file The source files of the `re0 web` project are under the `gitbook/markdown` directory, the resource files (pictures) are all placed in `gitbook/res`, and the directory files on the left are in `gitbook/SUMMARY.md` Other files are not important, they are all project files or generated files, so we only need to copy them For example, create a folder `books/re0`, then copy the contents of the original project `gitbook/markdown/ch/` directory to the `books/re0/ch/` directory, and copy the original project `gitbook/markdown/jp/` Copy the contents of the directory to the `books/re0/jp/` directory, and copy the original projects `gitbook/markdown/character.md` and `gitbook/README.md` to `books/re0/ch/` and `gitbook/markdown/jp/` In addition, create a folder `books/res/` for the resource files, copy all the files in the original project `gitbook/res/` directory to the `books/res/` directory ## Create configuration for each document Copy the `config.json` and `sidebar.yaml` files from the `docs/get_started/zh/` directory to `books/re0/ch/` and `books/re0/jp/` Each directory with `config.json` is equivalent to **a document**, or **a book** ## Modify site_config.json * Modify route Edit `site_config.json`, find the key value of `route`, modify the content: ```json \"route\": { \"docs\": { \"/gitbook/book/markdown/ch/\": \"books/re0/ch\", \"/gitbook/book/markdown/jp/\": \"books/re0/jp\" }, \"pages\": { \"/\": \"pages/index/zh\", \"/en/\": \"pages/index/en\" }, \"assets\": { \"/static/\": \"static\", \"/res/\": \"books/res\" }, ``` Here `url` is compatible with the previous path `gitbook/book/markdown/` and the resource path `/res/`. Because `re0 web` project source file pictures use absolute path `url` such as `<img width \"500\" src \"/res/img/article/chapter010/12.jpg\" />`, So here `/res/` is alluded to the `books/res` folder; In addition, a relative path can be used in the source file, but the directory must be in the same document, such as in this document (click on the upper right corner to edit this page to see the source code), `![](../assets/images/logo. png)`: ![](../assets/images/logo.png) Because the `assets` directory is also under the `get_started/zh/` directory, it can be directly referenced, but directories beyond the scope of this document cannot be directly referenced by relative paths. But there are also ways to achieve it, such as quoting the resources in the `get_started/assets/` directory here, which can also be referenced in the `get_started/zh/` directory, just need to configure the `route` cleverly, as follows: default ```json \"route\": { \"docs\": { \"/get_started/zh/\": \"docs/get_started/zh\", }, \"assets\": { \"/get_started/assets/\": \"docs/get_started/assets\" }, ``` * Modify other Modify `title` `domain` `source` etc. ## Sidebar Directory * View documentation If you use `teedoc serve` at this time, you can actually see the document at `http://127.0.0.1:2333/gitbook/book/markdown/ch/character.html` But the list on the left is not finished yet, now modify the left list * Convert SUMMARY.md Enter `books/re0/ch/`, earlier we copied a file of `sidebar.yaml`, now we need to convert the `SUMMARY.md` of gitbook into this file format Find the `SUMMARY.md` file of the previous `gitbook` project, and execute ```shell teedoc f'SUMMARY.md' summary2yaml ``` We get a `sidebar.yaml` file, copy it to the `books/re0/ch/` directory and overwrite the previous `sidebar.yaml` * Modify the file path of sidebar.yaml Because the previous directory structure may not be similar to the directory structure of the new project, you need to modify the file path in `sidebar.yaml`, for example: `markdown/character.md` is changed to `character.md`, which is the path relative to the document (the directory with `config.json`) `markdown/ch/chapter010/README.md` is changed to `chapter010/README.md`, you can batch replace `markdown/ch/` as empty, which can be done in many editors, such as `vscode` and press `Ctrl +H` key to modify If you want the link (`url`) to open in a new window, just add a `target: _blank` key value. * View the effect Then execute `teedoc serve` to visit `http://127.0.0.1:2333/gitbook/book/markdown/ch/index.html` and you can see the directory on the left, and you can get the same for the directory of `jp` ## Edit navigation bar The navigation bar needs to be edited as needed ### Edit template `config/config_zh.json` ```json { \"class\": \"language_zh\", \"navbar\": { \"title\": \"re0 web\", \"logo\": { \"alt\": \"re0 web logo\", \"src\": \"\" }, \"home_url\": \"/\", \"items\": [ { \"url\": \"/gitbook/book/markdown/ch/\", \"label\": \"Chinese\", \"position\": \"left\" }, { \"url\": \"/gitbook/book/markdown/jp/\", \"label\": \"日本语\", \"position\": \"left\" }, { \"url\": \"https://github.com/teedoc/re0 web teedoc\", \"label\": \"github\", \"target\": \"_blank\", \"position\": \"right\" }, { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"id\": \"zh\", \"url\": \"/\", \"label\": \"Chinese\" }, { \"id\": \"en\", \"url\": \"/jp/\", \"label\": \"日本语\" } ] } ] }, \"footer\":{ \"top\":[ { \"label\": \"Link\", \"items\": [ { \"label\": \"Use teedoc to build\", \"url\": \"https://teedoc.neucrack.com\", \"target\": \"_blank\" }, { \"label\": \"Site Map\", \"url\": \"/sitemap.xml\" } ] }, { \"label\": \"Source\", \"items\": [ { \"label\": \"Source files of this website\", \"url\": \"https://github.com/teedoc/re web teedoc\", \"target\": \"_blank\" } ] } ], \"bottom\": [ ] }, \"plugins\": { \"teedoc plugin search\":{ \"config\": { \"search_hint\": \"Search\", \"input_hint\": \"Enter keywords, separate multiple keywords with spaces\", \"loading_hint\": \"Loading, please wait...\", \"download_err_hint\": \"Failed to download file, please refresh and try again or check the network\", \"other_docs_result_hint\": \"Results from other documents\", \"curr_doc_result_hint\": \"Current document search result\" } } }, \"show_source\": \"Edit this article\" } ``` Another `config_en.json` can be renamed to `config_jp.json`, similarly modify the following content, by the way, rename `pages/index/en` to `pages/index/jp` ```json { \"navbar\": { \"title\": \"re0 web\", \"logo\": { \"alt\": \"re0 web logo\", \"src\": \"\" }, \"home_url\": \"/jp/\", \"items\": [ { \"url\": \"/gitbook/book/markdown/ch/\", \"label\": \"Chinese\", \"position\": \"left\" }, { \"url\": \"/gitbook/book/markdown/jp/\", \"label\": \"日本语\", \"position\": \"left\" }, { \"url\": \"https://github.com/neutree/re0 web teedoc\", \"label\": \"github\", \"target\": \"_blank\", \"position\": \"right\" }, { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"id\": \"zh\", \"url\": \"/\", \"label\": \"Chinese\" }, { \"id\": \"en\", \"url\": \"/jp/\", \"label\": \"日本语\" } ] } ] }, \"footer\":{ \"top\":[ { \"label\": \"Links\", \"items\": [ { \"label\": \"Site generated by teedoc\", \"url\": \"https://teedoc.neucrack.com\", \"target\": \"_blank\" }, { \"label\": \"Sitemap\", \"url\": \"/sitemap.xml\" } ] }, { \"label\": \"Source code\", \"items\": [ { \"label\": \"website source files\", \"url\": \"https://github.com/teedoc/re0 web teedoc\", \"target\": \"_blank\" } ] } ], \"bottom\": [ ] } } ``` ### Modify the configuration file config.json of each book (/document) * Modify `books/re0/ch/config.json` ```json { \"import\": \"config_zh\", \"navbar\": { \"items\": [ { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"id\": \"zh\", \"url\": \"/gitbook/book/markdown/ch/\", \"label\": \"Chinese\" }, { \"id\": \"en\", \"url\": \"/gitbook/book/markdown/jp/\", \"label\": \"日本语\" } ] } ] } } ``` * Modify `books/re0/jp/config.json` ```json { \"import\": \"config_jp\", \"navbar\": { \"items\": [ { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"id\": \"zh\", \"url\": \"/gitbook/book/markdown/ch/\", \"label\": \"Chinese\" }, { \"id\": \"en\", \"url\": \"/gitbook/book/markdown/jp/\", \"label\": \"日本语\" } ] } ] } } ``` ## Edit home page Edit `pages/index/zh/README.md`, modify as needed ## Deployment Like `gitbook`, `teedoc build` generates static files and puts them in the `out` folder, and can be directly copied to the server for deployment. For more information, please see [document](./deploy.html) Final effect: [teedoc.github.io/re0 web teedoc/](https://teedoc.github.io/re0 web teedoc/)"},"/get_started/en/usage/write_attention.html":{"title":"Points to note when writing documents","content":" title: Points to note when writing documents keywords: teedoc, document writing, points to note desc: teedoc, which converts markdown or jupyter notbook into html static web pages, introduces the points to note when writing documents with teedoc ## Relative path problem When writing the link path in `config.json`, try to write the specification, such as `/get_started/zh/` instead of `/get_started/zh` That is, if the corresponding path is not a file, but a directory, you must add a `/` at the end to let the browser know that this is a directory, In this way, we write relative paths in the `md` file, such as `../assets/image/screenshot.png`, which will be converted to `/get_started/assets/image/screenshot.png` If it is `/get_started/zh`, the browser will parse it as `/assets/image/screenshot.png`, which is the wrong address, and the picture will not be found! Of course, you can also choose to use an absolute path"},"/get_started/en/usage/seo.html":{"title":"SEO (optimized for search engines)","content":" title: SEO (optimized for search engines) keywords: teedoc, SEO, search optimization, search engine indexing desc: How to use teedoc to do SEO (speed up search engines to include websites and pages) `SEO`: `Search Engine Optimization`, which is search engine optimization. In order to make your website indexed by search engines so that users can search our website through search engines, we need to do some things: ## Page keywords and description Add keywords and descriptions to each page, it's ok if you don't add them, according the content if added, such as `.md` file header (source text on this page) ```markdown title: SEO (optimized for search engines) keywords: teedoc, SEO, search optimization, search engine indexing desc: How to use teedoc to do SEO (speed up search engines to include websites and pages) ``` This will automatically add a title to the article, and add keywords and descriptions to the `HTML` file for search engines to fetch In addition, since the page will generate a first level title based on this title, it is best not to use the first level title for the article, and use the second level title directly, such as: ```markdown title: SEO (optimized for search engines) keywords: teedoc, SEO, search optimization, search engine indexing desc: How to use teedoc to do SEO (speed up search engines to include websites and pages) ## Introduction Here is the introduction ## Directory Two ``` ## Image alt info When Use image in markdown, try to add description info for image Wrong: ```markdown ![](url) ``` Correct: ```markdown ![description or label(alt info)](url) ``` ## Sitemap A site map will be generated to `/sitemap.xml`, and a robot crawling rule to `/robots.txt`. You can submit the `url` of this `sitemap` in the webmaster background of the search engine, so Search engines will come to grab information You can set the `robots` key value in the `site_config.json` to prevent crawlers from crawling certain files or content. For the format, please refer to the description of the `robots` key value in [Instructions for use](./start.html) ## End of page record information In China, all websites need to be filed before they can be included by search engines. Add your website's file information in `config.json`. Note that the file information must be consistent with the domain name, otherwise it will be invalid"},"/get_started/en/usage/compare_dirs.html":{"title":"Compare different and changed files in two directories","content":" title: Compare different and changed files in two directories keywords: compare two directories, find file changes Use the `teedoc` tool `teedoc compare` command to compare the differences between two directory files. For example, after we generate a new `out` directory, we need to compare it with the old `out` directory to find out the changed files, so that we can upload only the changed files. For example, the old directory for generating html is `old_out`, and the new one is `out`, then compare with the following command ```bash teedoc compare old_out out ``` will print out different files in `json` format: ```json { \"new\": [], \"modified\": [], \"deleted\": [] } ``` Using help: ``` teedoc compare h ```"},"/get_started/en/usage/deploy.html":{"title":"Deploy the website generated by teedoc","content":" title: Deploy the website generated by teedoc keywords: teedoc, deployment desc: Deploy the website generated by teedoc to the server Since the webpages generated by `teedoc` are static webpages, you can deploy them directly in the usual way of deploying static pages. The page generated by `teedoc` will be in the `out` directory Using `teedoc serve` will start a `HTTP` service, but please do not use it in a production environment, it is unreliable For the production environment, here are a few simple and practical methods: * [Deploy to github pages](./deploy_github_pages.html) * [Use nginx to deploy to self built server](./deploy_nginx.html) * [Use CDN to accelerate website](./deploy_cdn.html)"},"/get_started/en/usage/deploy_github_pages.html":{"title":"Deploy the website generated by teedoc to github pages","content":" title: Deploy the website generated by teedoc to github pages keywords: teedoc, deployment desc: Deploy the website generated by teedoc to the github pages service, use github's free server to deploy the website Because `github` provides free `pages` service, we only need to submit the `html` page to the `gh pages` branch, and then enable the `pages` service in the project settings. At the same time, we have also automated the page construction and push. Every time we submit code/documents to the warehouse, the `github action` will be triggered to automatically build and push to the `gh pages` page, which is very simple, convenient and reliable! ## Clone the template warehouse Here we use the source code of teedoc official website as a template, visit [https://github.com/teedoc/template](https://github.com/teedoc/template) or [https://github.com/teedoc/teedoc.github.io](https://github.com/teedoc/teedoc.github.io) Click `Use this template` ![github use template](../../assets/images/github_use_template.jpg) Then fill in the new warehouse name (if you are not going to customize the domain name, the warehouse name is best to be `teedoc.github.io` and replace `teedoc` with your username or organization name) and description, and create a new one based on this warehouse Your own warehouse, now you have the same warehouse as the official website of `teedoc` > You will find a directory of `.github/workflows`, this is the configuration file of `github action`, we use this function to achieve: > When we update the source file of the repository, `github action` automatically builds and generates static web pages according to the commands of this configuration file, and then pushes them to the `gh pages` branch of this repository > Among them, `sync_code_to_gitee.yml` and `sync_pages_to_gitee.yml` are used to synchronize the code to `gitee`, you can delete them, please study by yourself if necessary ## Automatically trigger build Every time the warehouse submits a modification, the build will be automatically triggered. After the build is completed, the generated `html` page will appear in the `gh pages` branch. You can see the progress and log in the `Actions` column If it is a green tick, it means success. Otherwise, it means failure. You can click in to see what the build log reported is wrong. Generally, the previous value is filled in incorrectly. ![](../../assets/images/github_action.jpg) ## Set up pages service Then find the `pages` service setting in the settings, open it, and then visit the corresponding domain name, you can check the `Enforce HTTPS` to enable `HTTPS` (recommended) For example, here is `https://teedoc.github.io/` >! Note that if the root path is not `/`, and there is no custom domain name (see the following introduction for custom domain names), such as `https://teedoc.github.io/my_site/`, it needs to be in `site_config.json` Configure `\"site_root_url\":\"/my_site/\"` ![](../../assets/images/github_pages.jpg) ## Pages Service Custom Domain After deployment, there will be a default domain name, such as `teedoc.github.io`. If you want to use your own domain name, such as `teedoc.neucrack.com`, you need to customize the domain name. The file directory of the website root directory mapping is set in the `site_config.json` file, for example, here is the `pages/index/zh` directory: ```json \"pages\": { \"/\": \"pages/index/zh\", \"/en/\": \"pages/index/en\" }, ``` Create a new file in this directory, name it `CNAME` and note that there is no suffix, then write a custom domain name such as `teedoc.neucrack.com`, save the file, and submit it > You may see the setting of `custom domain` in the settings, but you need to set the `CNAME` file as mentioned here to keep it in effect, otherwise the custom domain name will be invalid next time you submit it ## Automatically build advanced configuration The build process is configured in the `.github/workflows/publish.yml` file, which mainly includes building documents, and pushing documents to the `gh pages` branch, and the script can be modified according to the situation. Used to push documents to the `gh pages` branch, [github pages deploy action](https://github.com/JamesIves/github pages deploy action) This `github actioin` plugin, more advances For the usage of the order, please read the documentation of this plugin Generally, the above method is sufficient, and you can use it without configuring any parameters. In addition, the bottom of `publish.yml` provides a push method without plug ins. If you need it, you can copy it to it and use it. You may need to use it. The following knowledge points: * Generate ssh key Generate a pair of `key` locally (relevant software needs to be installed under windows, please install it yourself (you will have it if you install git)) ``` ssh keygen t rsa f key.txt ``` Got the two files `key.txt` and `key.key.pub` * Set the key Set the `ssh` key in the settings of the document project, add a `ssh` key, copy the content in `key.txt.pub`, pay attention to the `pub` file, which is the public key, select ** to allow writing Permission**, take any name ![](../../assets/images/github_deploy_key.jpg) Then click `Secrets` to set secret key value pairs. The variables that need to be set are: * `ACCESS_KEY`: Copy the content in `key.txt` * `GIT_EMAIL`: Set a `git` submission email, just set your `github` email * `GIT_NAME`: Set a `git` commit name, just set your `github` name * `REPO`: warehouse address, set to `organization name/warehouse name` or `user name/warehouse name`, such as `teedoc/teedoc.github.io` ![](../../assets/images/github_secrets.jpg) Of course, these variables can also be obtained directly from the submission record through the optimization script (except for `ACCESS_KEY`), if you are interested, you can optimize, and you are also welcome to submit a PR"},"/get_started/en/usage/layout_template.html":{"title":"layout template - customize HTML layout","content":"layout template customize HTML layout ## Basic usage of layout template You can use the template that comes with the theme, such as error pages, you can use `404.html` directly, just add the key value of `layout` in `metadata` ```markdown layout: 404.html ``` ## Customize layout template First write the layout template file, which supports the `Jinja2` grammar, and the writing method can refer to the default [writing of the layout template of the theme plugin](https://github.com/teedoc/teedoc/tree/main/plugins/teedoc plugin theme default/teedoc_plugin_theme_default/templates). The template file can be placed in two places, one is placed in the theme plug in, the plug in author can do this; The other is to put it in the layout template folder (the default document root directory `layout`), and then use a specific layout template for a specific page separately, and add the `layout` key value at the article header `metadata`: `layout`: The layout template used by the page. This key value is not required by default. The configuration in the theme plugin will be used. You need to customize the layout of this page. You can set this parameter. The path is relative to the `layout_root_dir in `site_config` `Path, `layout_root_dir` defaults to `layout`, so to use `layout/special_layout.html` only need to fill in `special_layout.html` You can modify the template based on the theme, or inherit the template of the theme, such as slightly changing the `body` part of the `404.html` page, just create a new `my_404.html` in the `layout` directory. Note that the file name cannot be the same Built in file name conflict, if conflict, it will prompt `generate html fail: maximum recursion depth exceeded in comparison`: ```markdown {% extends \"404.html\" %} {% block body_404 %} Here is body {{ bodysafe }} {% endblock%} ``` Then use this template in `404.md` ```markdown layout: my_404.html ``` ## jinja2 template variables Here is a list of all supported variables: ### page head info * `lang`: language, e.g. `en`, or `zh CN` * `metadata`: metadata from doc metadata, dict type * `page_id`: page id , a string, set in doc config and doc metadata * `page_classes`: page classes, a list, set in doc config and doc metadata * `keywords`: keywords, a list, set in doc metadata * `description`: description, a string, set in doc metadata * `header_items`: tags in head(`<head></head>`) tag, a string list * `title`: page title, can be null, string, set in doc metadata * `site_name`: site name, string, set in site config * `js_vars`: js variables set and used by plugins, a dict object ### navbar * `logo_url`: site logo image url, string, can be null, set in doc config * `logo_alt`: site logo alt info, string, can be null, set in doc config * `home_url`: home url, e.g. \"/\", \"/site0/\", string * `navbar_title`: navbar title, html string, can be null, set in doc config * `navbar_main`: navbar left html, html string * `navbar_options`: navbar right html, html string * `navbar_plugins`: navbar plugins html, html string ### sidebar info pages no sidebar, only article of docs have * `sidebar_title`: sidebar title, string, can be html string, set in doc sidebar config * `sidebar_items_html`: sidebar items html, html string ### body info #### article of docs body info * `article_title`: doc's article title, string, set in doc metadata * `tags`: article tags, a string list, set in doc metadata * `author`: article author, string, can be null, set in doc metadata * `date`: article create date, string, can be null, set in doc metadata * `show_source`: show source button info, string, can be null, set in site config and doc metadata * `source_url`: source file's url, valid only when show_source is not null * `body`: body html, html string * `previous`: previous article, can be null * `title`: previous article title, string * `url`: previous article url, string * `next`: next article * `title`: next article title, string * `url`: next article url, string * `toc`: toc html string, can be null #### pages body info * `body`: body html, html string ### page footer info * `footer_top`: footer top html string * `footer_bottom`: footer bottom html string * `footer_js_items`: js items last load int html, string list"},"/get_started/en/index.html":{"title":"open source static doc site generator teedoc","content":" title: open source static doc site generator teedoc keywords: teedoc, markdown, jupyter notebook, html, document generation, alternative gitbook, website generation, static website, static blog desc: teedoc, open source static doc site generator, convert markdown or jupyter notbook into html static web pages, used for personal or corporate website building, blog building, database building, wiki, etc. Official website: [teedoc.neucrack.com](https://teedoc.neucrack.com/) or [teedoc.github.io](https://teedoc.github.io/) Source file of this document: [github.com/teedoc/teedoc.github.io](https://github.com/teedoc/teedoc.github.io) Source code: [https://github.com/teedoc/teedoc](https://github.com/teedoc/teedoc) Welcome star Convert documents in `Markdown` or `Jupyter Notebook` format into `HTML` static web pages `teedoc` can be used in the following scenarios: * Build a document website, and it is best to support multiple documents (for example, you have two books called `Python Learning` and `C++ Learning`, they have separate directories, and `teedoc` is the library) * Documents and web pages coexist, support custom `HTML` pages * Build a `WiKi` website * Build a personal or corporate knowledge base * Build a personal or corporate website * Blog If you encounter problems during use, you can find similar problems in [here](https://github.com/teedoc/teedoc/issues) (you need to register and log in to github) to find similar issues, or create an issue ## Features [x] Multi document support [x] Simple to use, cross platform, only dependent on `Python3` [x] No database required, all static pages of the website [x] The deployment is simple, the generated website is a fully static page, which can be directly copied to the server or uploaded to a third party organization for deployment [x] Easy to write, using [Markdown syntax](./syntax/syntax_markdown.html)编写 [x] [Jupyter notebook support]((./syntax/syntax_jupyter.ipynb)) [x] HTML support, you can directly use HTML to write pages, with great freedom [x] Plug in support [x] Multi theme support (implemented by plug in) [x] Control the style accurate to the page through css (implemented by customizing the id and class of each page) [x] Multi level directory support(infinite levels) [x] Multi language support (manual translation) (Internationalization/i18n) [x] Multilingual support (translation plugin) [x] Multi version support (implementation method is the same as multi language) [x] Search support [x] SEO friendly [x] Real time preview of changes [x] Parallel build, faster build speed [x] Blog support [x] Switch from gitbook is easy, just config `route` and convert `SUMMARY.md` by `summary2yaml` command [x] Comments(Plugins), e.g. `gitalk` ## Demo [This website](https://teedoc.github.io/) is generated using `teedoc`, what you see now is what the generated website looks like. In addition, there are other websites that use `teedoc`, please see [here](./usage/sites.html) for details ## Similar tools In fact, there are many tools of this type, but each one is slightly different. Just choose one according to your needs. If you have choice difficulties, you are recommended to use teedoc if you meet some of the following conditions: * Used as a document website? You have a lot of document sites in your hand, want to unify them into one site? Also websites in various languages? Use `teedoc` * Use `Jupyter notebook` to write documents or code? Decisively choose teedoc * Does the function meet your needs? * Does the interface meet your aesthetics (you can customize `css`, or change the theme plug in) * Familiar with `Python`? Plug ins and functions can be customized at any time Other similar tools: * `docusaurus`: `teedoc`'s `UI` layout is almost similar to it, but it is written by `ract`, `teedoc` is native `js`, if you are using `ract`, you can consider this * `gitbook`: a tool that used to be very useful, but it is no longer maintained by the government, and it is switched to commercial use. It is not recommended to use it * `docsify`: only one page is needed, `markdown` is rendered in the browser, instead of pre rendered as `HTML`, the advantage is that it is lightweight, but `SEO` is not very friendly, you can use its `SSR` function, ` nodejs` written * `readthedocs(Sphinx)`: In fact, it uses `Sphinx` as a generation tool. The official website documentation of `Python` is generated by this tool. Many open source projects use tools. `readthedocs` is just a public document website. You don’t need to build your own website, you can start writing documents after registering and logging in, and it is friendly to `RST` format support * `mkdoc`: It is also a tool written by `python`. It is easy to use and has many plugins. If your document is a single language document, you can use this tool ## Some usage suggestions * Add `Generate with teedoc` in footer to help more people discover teedoc and promote the growth of the project * Use the template project to start a new document project, you can run it first, and then modify it according to your own needs, so that you can get started faster ## Quick start Visit[quick start](./usage/quick_start.html) to install and quick start"},"/get_started/en/install/index.html":{"title":"teedoc installation and use","content":" title: teedoc installation and use keywords: teedoc, markdown, jupyter notebook, html, document generation, alternative gitbook, website generation, static website, installation, use desc: teedoc, which converts markdown or jupyter notbook into html static web pages, introduces the use of teedoc ## Install python3 Need to install `Python3` first (only support `Python3`) For example, on `Ubuntu`: ```shell sudo apt install python3 python3 pip git ``` `Windows` and `macOS` please go to [Official Website Download](https://www.python.org/downloads/) ## Install teedoc Open the terminal and enter: ```shell pip3 install teedoc ``` Later use the following command to update the software: ```shell pip3 install teedoc upgrade ``` > If your network uses `pypi.org` and the speed is very slow, you can choose other sources, such as Tsinghua tuna source: `pip3 install teedoc i https://pypi.tuna.tsinghua.edu.cn/simple` Now you can use the `teedoc` command in the terminal If not, please check if the `Python` executable directory is not added to the environment variable `PATH`, For example, it may be in `~/.local/bin` ## New Project Create an empty directory to store the document project ```shell mkdir my_site cd my_site teedoc init ``` or ```shell teedoc d my_site init ``` Select `1`, which is the `minimal` template to generate, or you can directly generate it with `teedoc d my_site template minimal init` This will automatically generate some basic files in the `my_site` directory In addition, in addition to using the `init` command to generate a minimal project, you can also get a source code of the official website document and modify it based on the content of this document ```shell git clone https://github.com/teedoc/teedoc.github.io my_site ``` or ```shell git clone https://gitee.com/teedoc/teedoc.gitee.io my_site ``` ## Install plugin This will install the plugin according to the plugin settings of `plugins` in `site_config.json` ```shell cd my_site teedoc install ``` > The plug in is also released in the form of `python` package, so this will download the corresponding plug in from `pypi.org`. Similarly, other sources can also be used, such as Tsinghua tuna source: `teedoc i https://pypi. tuna.tsinghua.edu.cn/simple install` ## Build an `HTML` page and start an `HTTP` service ```shell teedoc serve ``` This command will first build all `HTML` pages and copy resource files, and then start an `HTTP` service If you only need to generate pages, use ```shell teedoc build ``` After displaying `Starting server at 0.0.0.0:2333 ....`, it is fine Open the browser to visit: [http://127.0.0.1:2333](http://127.0.0.1:2333) At the same time, you can see that there is an additional `out` directory under the directory, which is the generated static website content, directly copy it to the server and use `nginx` or `apache` for deployment. ## Create a new repository based on the template repository on github and use the pages service to quickly create a website Using the teedoc official website template and the github pages function, you can quickly create a website of your own. You don't need to build and maintain your own server, you don't need to deploy an HTTPS certificate yourself, and you don't need any key configuration. It can be completed in 3 minutes. However, the github pages service also has disadvantages, that is, some domestic network lines in China may not be accessible. ### Create a repository based on a template * Visit [https://github.com/teedoc/template](https://github.com/teedoc/template) or [https://github.com/teedoc/teedoc.github.io](https://github.com/teedoc/teedoc.github.io), click `Use this template` ![github use template](../../assets/images/github_use_template.jpg) * Set the name of the new repository to `username or organization name.github.io`, select the public repository, and then confirm the submission ![create repo](../../assets/images/create_repo.jpg) > Then use `git clone your repository address` to clone to the local ### Set up pages service * Wait for the automatic build to generate a new branch `gh pages`, you can click on the `Actions` column to view the progress of the automatic build, if a green tick appears, it means it is OK, if a red cross appears, the build fails Yes, where is the problem, you can click in to view the log according to the screenshot method below (you must submit a screenshot of the log) and submit [issue](https://github.com/teedoc/teedoc.github.io/issues/ new) feedback ![action status](../../assets/images/action_status.jpg) If there is an error, you can click to view the error log according to the following figure: ![error0](../../assets/images/action_error.jpg) ![error](../../assets/images/action_error_log.jpg) * Set the `pages` service of the repository and select the `gh pages` branch. If there is no such branch, the previous step has not been completed or an error occurred. You can view the issue submission [issue](https://github.com/ teedoc/teedoc.github.io/issues/new) feedback ![pages](../../assets/images/pages_settings.jpg) * Then visit `username or organization name.github.io`, you will find a webpage, the content is exactly the same as `teedoc.github.io`!"},"/get_started/en/plugins/themes.html":{"title":"teedoc theme plugin","content":" title: teedoc theme plugin keywords: teedoc, theme plugin, themes, plugin desc: teedoc theme plugin ## `teedoc plugin theme default`: default theme plugin ### Plugin configuration Configure the plugin in `site_config.json` ```json \"plugins\": { \"teedoc plugin theme default\":{ \"from\": \"pypi\", \"config\": { \"dark\": true, \"default_dark\": false, \"mobile_navbar_collapsed\": true, \"toc_depth\": 4, \"show_print_page\": true, \"heading_no_counter\": false, \"env\":{ \"main_color\": \"#4caf7d\", \"sidebar_width\": \"300px\" }, \"css\": \"/static/css/custom.css\", \"js\": \"/static/js/custom.js\", \"code_highlight_css\": \"/static/css/prism.css\", \"code_highlight_js\": \"/static/js/prism.js\" } } } ``` * `dark`: support dark mode switch * `default_dark`: default use dark mode * `mobile_navbar_collapsed`: collapse navbar by default on mobile phone * `toc_depth`: table of article conent's depth, default to `4`, that is show `H1~H4` headers * `show_print_page`: show print page button, visitor click or push `Ctrl+P` to print * `heading_no_counter`: cancel heading auto numbering, if set to `true`, all document headings will not be automatically numbered. If you want to cancel the automatic numbering of a single document title, add ```markdown class: heading_no_counter ``` * `main_color`: theme main color * `sidebar_width`: sidebar default width, format can be like`\"300px\"`, `300`, `\"30%\"` * `css`: `css` file `URL`, which can override the default style and will be inserted into the `head` tag of the page * `js`: `js` file `URL`, can write `js` program, it will be loaded at the end of the page The default code highlighting uses [prismjs](https://prismjs.com/), and the support of some common languages ​​is checked by default. `js` file + `css` file totals about `100KiB`, if you need the code If you can’t highlight, or want to save traffic or reduce loading time, you can go to [here](https://prismjs.com/download.html#themes prism tomorrow&languages markup+css+clike+javascript+bash+c+cpp+cmake+coffeescript+docker+go+ini+java+json+json5+kotlin+latex+less+lua+makefile+markdown+markup templating+objectivec+php+powershell+python+jsx+tsx+ruby+rust+sass+scss+shell session+sql+swift+textile+typescript+yaml&plugins line numbers+highlight keywords+toolbar+copy to clipboard+match braces) Check the default check and check the language and Function, finally get a `css` file and a `js` file in the `static/js` directory, and then set the `URL` in `site_config.json`: ```json \"route\": { \"assets\": { \"/static/\": \"static\" } } ``` > this config will due to files in `static` dir will be copied to `static` dir of out dir. * `code_highlight_css`: `code` highlighting `css` file `URL`, will replace the default highlighting `css` file, and will be inserted into the `head` tag of the page * `code_highlight_js`: `code` highlighting `js` file `URL`, will replace the default highlighting `js` file, and will be loaded at the end of the page Supports `day` and `night` modes. The night mode will add a `dark` class to the `body`. If you want the `css` style of the night mode, you can modify it based on this class name ### class support The theme supports several commonly used `class` and `id`, which can be set in `config.json`(/`config.yaml`) or the `class` and `id` keywords in the `.md` file. You can use this style directly For example, set in `config.json` ```json { \"class\": \"md_page\", \"navbar\": { ... } } ``` Or add in the header of the `md` file ```markdown title: title class: heading_no_counter ``` Then the `html` tags of all generated pages under this document will contain this class. For example, `md_page` will make the content displayed in the center instead of left aligned `class` has: * `md_page`: Ordinary markdown files are rendered into html pages, you can add this class, it will be displayed in the center instead of left aligned * `heading_no_counter`: Cancel automatic heading numbering"},"/get_started/en/plugins/others.html":{"title":"teedoc other plugins","content":" title: teedoc other plugins keywords: teedoc, theme plugin, themes, plugin desc: teedoc other plugins ## `teedoc plugin markdown parser`: default markdown parsing plugin Configure the plugin in `site_config.json` ```json \"plugins\": { \"teedoc plugin markdown parser\":{ \"from\": \"pypi\", \"config\": { \"parse_files\": [\"md\"], \"mermaid\": true, \"mermaid_use_cdn\": false, \"mermaid_cdn_url\": \"https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js\", \"mathjax\": { \"enable\": true, \"file_name\": \"tex mml chtml\", \"config\": { \"loader\": { \"load\": [\"output/svg\"] }, \"tex\": { \"inlineMath\": [[\"$\", \"$\"], [\"\\\\(\", \"\\\\)\"]] }, \"svg\": { \"fontCache\": \"global\" } } } } } } ``` * `parse_files`: File formats involved in parsing * `mermaid`: Enable mermaid plugin * `mermaid_use_cdn`: Use CDN for mermaid * `mermaid_cdn_url`: CDN url for mermaid, only used when `mermaid_use_cdn` is `true` * `mathjax`: Mathematical formula rendering support * `enable`: Whether to enable * `file_name`: `js` file name, which defines the default functions, the default is `tex mml chtml`, [reference here](http://docs.mathjax.org/en/latest/web/components/ index.html) * `config`: `mathjax` configuration, [mathjax](https://www.mathjax.org/) configuration, see [here](http://docs.mathjax.org/en/latest for specific configuration items /web/configuration.html) ## `teedoc plugin jupyter notebook parser`: jupyter notebook parsing plugin Configure the plugin in `site_config.json` ```json \"plugins\": { \"teedoc plugin jupyter notebook parser\":{ \"from\": \"pypi\", \"config\": { } } } ``` ## `teedoc plugin search`: Website search plugin Let the website and documents support the search function, support the searched current document and the whole site search To use, add to the `plugins` keyword in `site_config.json`: ```json \"plugins\": { \"teedoc plugin search\":{ \"from\": \"pypi\", \"config\": { \"search_hint\": \"Search\", \"env\": { \"main_color\": \"#4caf7d\", \"main_color_dark\": \"#1b4c33\", \"hint_shadow_color\": \"rgba(76, 175, 125, 0.38)\" } } } } ``` The prompt content of different documents can be configured in the corresponding document `config.json` to facilitate multi language support (internationalization/i18n). Of course, the plugin supports `Chinese`, `English` and `Japanese` by default, the translation is [here](https://github.com/teedoc/teedoc/tree/main/plugins/teedoc plugin search/teedoc_plugin_search/locales), when it is not found by default, `English` will be used. Manually setting the following variables will overwrite the translation that comes with the plug in The supported configurations are as follows: ```json \"teedoc plugin search\":{ \"config\": { \"search_hint\": \"Search\", \"input_hint\": \"Enter keywords, separate multiple keywords with spaces\", \"loading_hint\": \"Loading, please wait...\", \"download_err_hint\": \"Failed to download the file, please refresh and try again or check the network\", \"other_docs_result_hint\": \"Results from other documents\", \"curr_doc_result_hint\": \"Current document search result\" } } ``` * `search_hint`: the prompt message of the search box (button), the default is `Search` * `input_hint`: input hint information in the search box of the search page, default `Keywords separated by space` * `loading_hint`: Load the file prompt for searching, the default is `Loading, wait please ...` * `download_err_hint`: The download of the file required for the search fails, the user needs to refresh the browser to try again or the network environment cannot download the file, the default is `Download error, please check network and refresh again` * `other_docs_result_hint`: search result hint, search result in other documents, default `Result from other docs` * `curr_doc_result_hint`: search result hint, the search result in the currently browsed document, default `Result from current doc` * `env`: Replace some colors, including * `main_color`: main color, default `\"#4caf7d\"` * `main_color_dark`: main color of black theme, default `\"#1b4c33\"` * `hint_shadow_color`: shadow color, default `rgba(76, 175, 125, 0.38)` ## `teedoc plugin baidu tongji`: Baidu Analytics Add the code of [Baidu Analytics](https://tongji.baidu.com/) on each page, send the visit information to Baidu, and you can see the visit statistics in the background After registering and logging in to Baidu Statistics, add a website on the management page, and then there will be a code acquisition page with the following code ```js <script> var _hmt _hmt []; (function() { var hm document.createElement(\"script\"); hm.src \"https://hm.baidu.com/hm.js?90c693aa2************c14a50bb49\"; var s document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(hm, s); })(); </script> ``` Here is a string of keys `90c693aa2************c14a50bb49`, copy this string of keys, and then add to the `plugins` keyword in `site_config.json`: ```json \"plugins\": { \"teedoc plugin baidu tongji\":{ \"from\": \"pypi\", \"config\": { \"code\": \"Fill in the access key here\" } } } ``` After the website is deployed, you can see the visit information on the real time visitor page of the Baidu statistics background ## `teedoc plugin google analytics`: Google Analytics Add the code of [Google Analytics](https://analytics.google.com/) on each page, send the visit information to Google, and you can see the visit statistics in the background After registering and logging in to Google Analytics, add a website on the management page, and then there will be an `ID` starting with `UA ` or `G `, such as `UA 123456789 1` or `G AABBCCDDJJOOKK` Then add in the `plugins` keyword in `site_config.json`: ```json \"plugins\": { \"teedoc plugin google analytics\":{ \"from\": \"pypi\", \"config\": { \"id\": \"Fill in the resource ID here\" } } } ``` ## `teedoc plugin comments gitalk`: gitalk comment plugin [gitalk](https://github.com/gitalk/gitalk) is a comment tool based on the `github` `issue` question and answer system. Using `gitalk`, you don’t need to build your own server, you only need to register a `github` account , All the data will be put on the `issue` of a repository of `github`. > If you encounter a problem, [here](https://github.com/gitalk/gitalk/wiki/Q&A) may have the answer you want ### Config github Go to [github developers settings](https://github.com/settings/developers), * Add one Oauth Apps * Then generate secrets, we got client ID and secrets * Fill in `Homepage URL` with url, e.g. `https://teedoc.github.io` * Fill in `Authorization callback URL` with `https://teedoc.github.io/` ### Config doc To use it, you need to add a plug in in the `site_config` file ```json \"teedoc plugin gitalk\": { \"from\": \"pypi\", \"config\": { \"contrainer\": \"comments container\", \"env\": { \"clientID\": \"********\", \"clientSecret\": \"********\", \"repo\": \"repo name\", \"owner\": \"orgnization name or user name\", \"admin\": [\"user names have write access\"] } } } ``` * `contrainer`: The container tag `id` that contains the comments, the default is `comments container`, the document page and blog page in the `teedoc plugin theme default` plugin contain this tag * `env`: `gitalk` js plugin configuration items, see [here](https://github.com/gitalk/gitalk#options) for more parameters. * `clientID` and `clientSecret`: You need to create a new application in [github application](https://github.com/settings/applications/new) to get `ID` and `Secret` * `repo` and `owner`: are the name and owner of the repository, for example, [github.com/teedoc/teedoc.github.io](https://github.com/teedoc/teedoc.github.io) is used here `issue` as a comment system, just fill in `teedoc.github.io` and `teedoc` * `admin`: is the name of the user who has write access to this repository * `adminAutoCreate`: Automatically create issue when first time administrator visit page or not * `main_color`: the main appearance color of comments, optional * `second_color`: the secondary appearance color of comments, optional ~~**To open a comment on each page, the administrator needs to log in to `gitalk` to access the page, `gitalk` will automatically create an issue, and add the label `Gitalk` and the label `url path`, (the path characters are `50` characters in length limit).** Of course, there are also methods for batch creation, which are not introduced here, and you can explore it yourself.~~ Now issue can be created automatically You can also manually create `issue` and specify the label `Gitalk` of `issue` (the first letter is capitalized), and then add another label `page url path` or `custom id` (the label is custom `id` then Need to set the page `id` on the page using this `issue`) In addition to setting the `env` parameter in `site_config`, it can also be set in the article's `metadata`. Add a `gitalk ` prefix in front of the setting. For example, to set the `title` of the `issue` generated by `gitalk`, just You can set `gitalk title`. Here are a few examples: * If you create an issue manually, you can specify the issue for a page, and specify the issue number in the metadata for the article ```markdown title: ***** gitalk number: 2 ``` * Or create an issue manually first, specify the use of the specific label issue on the page, you can take a look at [official example](https://github.com/gitalk/gitalk/issues/1) ```markdown title: ***** id: Demo ``` or ```markdown title: ***** gitalk id: Demo ``` ## `teedoc plugin assets`: assets add plugin You can freely add resources to the page through this plug in, such as `css` and `js` resource files For example, the path mapping of resource files has been added, and there are two files `/static/css/custom.css` and `/static/css/custom.js`, which need to be added to the head and tail of the page respectively. At the same time, I also hope to add a `meta` tag to the head `site_config.json`: ```json { \"route\": { \"assets\": { \"/static/\": \"static\", }, }, \"plugins\": { \"teedoc plugin assets\":{ \"from\": \"pypi\", \"config\": { \"header_items\": [ \"/static/css/custom.css\", \"<meta name \\\"plugin assets\\\" content \\\"example meta item\\\">\" ], \"footer_items\": [ \"/static/css/custom.js\" ], \"env\":{ \"main_color\": \"#000000\" } } }, } } ``` For `css` and `js` files, you can write `url` directly like this, or you can write a link at the beginning of `http`. Here the variables in `env` will be replaced in the resource file, and used in the resource file by `${variable name}` `custom.css`: ```css a { color: ${main_color} } ``` ## `teedoc plugin google translate`: Google page translation plugin The function is the same as that of the right mouse button of `Chrome` to translate this page Before translation: ![google translate](../../assets/images/google_translate0.png) After translation: ![google translate](../../assets/images/google_translate.png) ```json \"config\": { \"lang\": \"auto\", \"doc_types\": [\"page\", \"doc\", \"blog\"], \"domain\": \"/\" } ``` * `lang`: The language of the page that needs to be translated. By default, it is not recommended to set it, or set it to the same `locale` of the document. For example, if `locale` is `zh_CN`, this can be set to `zh CN ` * `doc_types`: Which types of document pages should be displayed, 0 to 3 of `[\"page\", \"doc\", \"blog\"]`, * `domain`: From which URL to download the source code of `google translate`, the default is `\"/\"`, which means to download from this website, it can also be set to `translate.google.com` or `translate.google.cn` > Mainly considering that some files cannot be downloaded without a proxy in China, it is actually necessary to request `translate.googleapis.com`. When making the plug in, I found that even if it is set to `translate.google.cn`, there is a ` The js` file requested a `cleardot.gif` file under the domain name of `google.com`, which caused the network request to be stuck for a long time until it timed out to load the translation, so the `js` file (`element_main.js`) was modified and Put it locally so that it can be accessed quickly. > But this is also risky. Because the code and the code of the `Google` server are separated, in case `Google` updates the code one day, we also need to update it manually (although it will not change with a high probability), then welcome to update and modify. Submit PR ## `teedoc plugin ad hint`: Global tips for advertisements or important news Effect: ![hint](../../assets/images/hint.jpg) use: Add plugin in `site_config` ```json \"plugins\": { \"teedoc plugin ad hint\": { \"from\": \"pypi\", \"config\": { \"type\": \"hint\", \"label\": \"☆\", \"content\": \"content\", \"show_after_s\": 432000 } } } ``` Configuration: The default configuration code is [here](https://github.com/teedoc/teedoc/blob/e909be61546e3817b872bd5005b9b867c6843e60/plugins/teedoc plugin ad hint/teedoc_plugin_ad_hint/__init__.py#L22) * `type`: default `\"hint\"`, currently only supports `hint` * `label`: By default `\"New\"`, a label will be automatically added to the navigation bar, click to display the top prompt content, here set the content displayed by the label * `content`: default `\"\"`, content, the content of the `hint` category will be displayed at the top * `show_times`: default `2`, set how many times the user visits the page, the prompt will not be displayed automatically, if the value is `< 0`, it will always be displayed * `show_after_s`: default `432000`, set the time to be automatically displayed next time, the unit is seconds, the default is `5` days * `date`: default `null`, hint message's update date time, if hint content is updated, set this to make hint auto show, format:`2021 11 07 14:23:00`, if date set `>` now time, the hint will always auto show * `color`: default `\"#a0421d\"`, font color * `link_color`: default `\"#e53935\"`, link (`<a>` tag) font color * `link_bg_color`: default `\"#e6ae5c\"`, link (`<a>` tag) background color * `bg_color`: default `\"#ffcf89\"`, background color * `color_hover`: default `\"white\"`, the font color when hovering the mouse * `bg_color_hover`: default `\"#f57c00\"`, the background color when the mouse is hovering * `close_color`: default `\"#eab971\"`, close button background color ### i18n If the document has multiple languages, you can configure the plugin in `site_config`: ```json \"plugins\": { \"teedoc plugin ad hint\": { \"from\": \"pypi\", \"config\": { \"type\": \"hint\", \"label\": \"☆\", \"content\": \"content\", \"show_after_s\": 432000 } } } ``` Then overwrite the settings in the document `config` in different languages ```json \"plugins\": { \"teedoc plugin ad hint\": { \"config\": { \"label\": \"🦀\", \"content\": \"Content, support html syntax, do not use English single quotes\", } } } ``` Try to use the same `config` template file for documents in the same language. In the specific document `config`, `import` makes it easier to configure ## `teedoc plugin thumbs up`: thumbs up plugin With this plugin, you can display the like button on the page, and you can count the number of likes. The effect is as follows ![thumbs_up.png](../../assets/images/thumbs_up.png) ### Basic usage Add the plugin in `site_config`: ```json \"plugins\": { \"teedoc plugin thumbs up\": { \"from\": \"pypi\", \"config\": { \"url\": \"https://xxxx.xxxx.com:80\", \"show_up_count\": true, \"show_down_count\": false } } } ``` It should be noted that because the web page is a purely static page, the use of this plug in needs to be used with the server, and the statistical information is stored on the server. The server uses the `pip install teedoc plugin thumbs up` command to install the plugin and then use the `teedoc thumbs up server` command to run the service. You can use the ` port` parameter to specify the port, and more parameters use `teedoc' thumbs up server help`View > It is recommended to proxy this service with a proxy server such as nginx. > In addition, if your website is https protocol, then this service also needs to be https service, you can apply for a free certificate and configure it with nginx It should be noted that this service is just a simple routine and does not fully guarantee the security of the service. It is recommended to read the server code carefully to modify and customize your own server script. Code: [teedoc plugin thumbs up/server](https ://github.com/teedoc/teedoc/tree/main/plugins/teedoc plugin thumbs up/server) ### i18n Like other plugins, override the settings in the document `config` in different languages. For parameters, see [Plugin Source Default Configuration](https://github.com/teedoc/teedoc/blob/a8b93a4f29330b018c2e38589786b33d00854309/plugins/teedoc plugin thumbs up/teedoc_plugin_thumbs_up/__init__.py#L24) ```json \"plugins\": { \"teedoc plugin thumbs up\": { \"config\": { \"label_up\": \"Helpful\", \"label_down\": \"Not helpful\", \"msg_already_voted\": \"You have already voted\", \"msg_thanks\": \"Thanks for your feedback\", \"msg_down_prompt\": \"Thanks for the feedback, please tell us where we can improve? (minimum 10 words)\", \"msg_down_prompt_error\": \"Message requires a minimum of 10 words and a maximum of 256 words\", \"msg_error\": \"There was an error requesting the server!\" } } } ```"},"/get_started/en/plugins/index.html":{"title":"teedoc plugin","content":" title: teedoc plugin keywords: teedoc, plugin desc: teedoc, convert markdown or jupyter notbook into html static web pages, introduce teedoc plug ins ## Plug in introduction teedoc uses a plug in system to facilitate expansion In the `site_config.json` file, set the `plugins` field, such as ```json { \"plugins\": { \"teedoc plugin markdown parser\":{ \"from\": \"pypi\", \"config\": { } }, \"teedoc plugin theme default\":{ \"from\": \"pypi\", \"config\": { \"dark\": true, \"env\":{ \"main_color\": \"#4caf7d\" }, \"css\": \"/static/css/custom.css\", \"js\": \"/static/js/custom.js\" } } } } ``` Two plugins are installed by default here, namely `teedoc plugin markdown parser` and `teedoc plugin theme default`, both of which are installed directly from `pypi.org`. The theme plugin has configuration items The configuration items include whether to use the `dark` theme, as well as the environment variable `env` of the plug in, and set the `main_color` to `#4caf7d`. This value will be used in the plug in. Set the theme color to the corresponding color; As well as setting custom `css` files and `js` files, the value is `url`, not the file path (for the mapping of file path and `url` please see the introduction of `route` (route), by setting this `css` File, you can override the default style of the theme plug in to achieve simple custom functions * [Theme Plugin](./themes.html) * [Other plug ins](./others.html)"},"/get_started/en/usage/blog.html":{"title":"Use teedoc to write a blog","content":" title: Use teedoc to write a blog keywords: teedoc, blog, static blog, blog generation, blog desc: teedoc blogging (generating blog) ## Enable blog plugin and configure path mapping In the `route` keyword in `site_config.json`, add the `blog` keyword and add the `teedoc plugin blog` plugin ```json \"route\": { \"blog\": { \"/blog/\": \"blog\" } }, \"plugins\": { \"teedoc plugin blog\": { \"from\": \"pypi\", \"config\": { } } } ``` For example, here `/blog/` is the path (url) of the generated blog webpage, and `blog` is the path of the source file, similar to the `route` setting of documents and resource files Then execute the command to install the plugin ```shell teedoc install ``` ## Create a blog folder * Create a `config.json` in the `blog` folder you just configured, and use the same method as the `config.json` of the aforementioned document. * Create a new `README.md` file to write the homepage of the blog. For example, only the header information is written, but the content is not written. The generated web page will add the blog list after the file is rendered, where `date: false` represents Do not display the date on this page ```markdown title: Blog keywords: teedoc, blog generation, static blog desc: teedoc static blog page generation show_source: false date: false ``` ## Create a blog file Create a blog file at any location under the `blog` directory, in the format of `md`, and just write the content. Similarly, you can add header information, such as ```markdown title: teedoc blog support keywords: teedoc, blog, generated blog, static blog desc: teedoc generates static blog pages author: neucrack date: 2021 03 14 tags: hello, blog, teedoc cover: ./assets/cover.jpg Also can use image: ![image](./assets/img.jpg) This is an introduction to the test, which will be displayed in the list. Use `<! more >` to separate the text <! more > ## Body Title One text ``` >! Note that `tags` and `keywords` are separated by English commas, not Chinese commas Here, `<! more >` is used to divide the article. The first part will be displayed as an introduction to the blog homepage list, which is convenient for readers to preview. If there is no division, the first `500` characters will be taken as the introduction. ## Generate page Execute the `teedoc serve` command to start a service to access `http://127.0.0.1/blog/`, or add the link `/blog/` to the navigation bar in `config.json` as a blog Entrance. such as: ```json { \"navbar\": { \"title\": \"teedoc\", \"logo\": { \"alt\": \"teedoc logo\", \"src\": \"/static/image/logo.png\" }, \"home_url\": \"/\", \"items\": [ { \"url\": \"/\", \"label\": \"Home\", \"position\": \"left\" }, { \"url\": \"/get_started/zh/\", \"label\": \"Installation and Use\", \"position\": \"left\" }, { \"url\": \"/develop/zh/\", \"label\": \"Development\", \"position\": \"left\" }, { \"url\": \"/blog/\", \"label\": \"blog\", \"position\": \"left\" } } } ```"},"/get_started/en/usage/problems.html":{"title":"teedoc build problems","content":" title: teedoc build problems keywords: teedoc, build, error, problem desc: Problems when use teedoc You can view the problems and solutions already mentioned at [github issue](https://github.com/teedoc/teedoc/issues?q ), and you can also submit problems, and you are welcome to find problems, modify the code and submit PR ## jinja2.exceptions.TemplateNotFound: base.html.j2 Need upgrade `nbconvert`： ```shell pip3 install upgrade nbconvert ``` ## Plugin error, or code raise error Firstly, try to upgrade `teedoc` by: ``` pip install U teedoc ``` Then update plugins in your doc directory: ``` teedoc install ``` If problems remain exists, [create issue](https://github.com/teedoc/teedoc/issues/new) on github ## OSError: [Errno 28] inotify watch limit reached It only appears when using `teedoc serve`, that is, the number of files monitored has reached the upper limit set by the system. It usually happens when a large number of files are detected by the software, and the common situations are as follows: * An editor such as `vscode` opens a folder with a lot of files. Turning off this kind of software or opening fewer files (folders) will usually solve the problem, refer to [error ENOSPC](https://code.visualstudio.com/docs/setup/linux#_visual studio code is unable to watch for file changes in this large workspace error enospc) * There are indeed too many documents in the document project, reaching the upper limit of monitoring. This situation is generally rare. If it occurs, you need to set the upper limit of the system’s monitoring. Please search for the specific method."},"/get_started/en/usage/quick_start.html":{"title":"teedoc quick start","content":" title: teedoc quick start keywords: teedoc use, teedoc quick start desc: teedoc, which converts markdown or jupyter notbook into html static web pages, introduces the quick and easy way to use teedoc This document is mainly to let you who are new to contact you quickly get started. For more details, please see the more detailed documents later. ## Install Python3 `teedoc` is a software developed based on `Python3` language, and it needs the support of this software For example, on `Ubuntu`: ```shell sudo apt install python3 python3 pip git ``` For **Windows** and **macOS**, please visit the [official website](https://www.python.org/downloads/) to download Python. **During installation, make sure to check the option** `Add python.exe to PATH`. Then, open a new terminal (on **Windows**, press `Ctrl+R`, type `cmd`, and press Enter): 1. Type `python version`. If you see something like `Python 3.**.**`, it means Python has been successfully installed. 2. Type `pip version`. If you see something like `pip **.*.*`, it means the `pip` tool has been successfully installed. ## Install teedoc Open the terminal (`Windows` press `Ctrl+R` and enter `cmd`), enter: ```shell pip3 install teedoc ``` Use the following command to update the software later >! Be sure to update the software and plug ins at the same time before use, to prevent problems caused by different versions ```shell pip3 install U teedoc ``` > If your network uses `pypi.org` and the speed is very slow, you can choose other sources, such as Tsinghua tuna source: `pip3 install teedoc i https://pypi.tuna.tsinghua.edu.cn/simple` Now you can use the `teedoc` command in the terminal If not, please check if the `Python` executable directory is not added to the environment variable `PATH`, For example, it may be in `~/.local/bin` ## New Project Create an empty directory to store the document project ```shell mkdir my_site cd my_site teedoc init ``` or ```shell teedoc d my_site init ``` Select `1`, which is the `minimal` template to generate, or you can directly generate it with `teedoc d my_site template minimal init` This will automatically generate some basic files in the `my_site` directory In addition, in addition to using the `init` command to generate a minimal project, you can also get a source code of the official website document and modify it based on the content of this document ```shell git clone https://github.com/teedoc/teedoc.github.io my_site ``` or ```shell git clone https://gitee.com/teedoc/teedoc.gitee.io my_site ``` ## Install plugin This will install the plugin according to the plugin settings of `plugins` in `site_config.json` ```shell cd my_site teedoc install ``` > The plug in is also released in the form of `python` package, so this will download the corresponding plug in from `pypi.org`. Similarly, other sources can also be used, such as Tsinghua tuna source: `teedoc i https://pypi. tuna.tsinghua.edu.cn/simple install` >! Be sure to update the software and plug ins at the same time before use, to prevent problems caused by different versions ## Build an `HTML` page and start an `HTTP` service ```shell teedoc serve ``` This command will first build all `HTML` pages and copy resource files, and then start an `HTTP` service If you only need to generate pages, use ```shell teedoc build ``` After displaying `Starting server at 0.0.0.0:2333 ....`, it is fine Open the browser to visit: [http://127.0.0.1:2333](http://127.0.0.1:2333) At the same time, you can see that there is an additional `out` directory under the directory, which is the generated static website content, directly copy it to the server and use `nginx` or `apache` for deployment. ## Document structure Because `teedoc` is specially designed for multi document system, **There is a basic concept, each document project contains multiple documents, and each document has its own configuration file named config** You need to keep in mind first There are several important files in the project: * The project root directory has a `site_config.json` file, which is the main configuration of the project * There can be multiple documents in the project, set in the `route` configuration item of `site_config`, each document directory must have `config.json` and `sidebar.json` (`json` file can also be `yaml `File), `config` file is responsible for the configuration items of this document, such as the document name, multiple documents can use `import` to share a template ## Add a document * Create a `markdown` (end with `.md`) file in the directory where this file is located, such as `first.md`, and add content At the beginning of each article, there can be a `metadata area` to configure the related configuration of the article. At least one `title` is required. For more configuration items and document formats, please [read the document](../syntax/syntax_markdown.html) ```markdown title: title ## Title content ## Title Two Content two ``` If there is no `metadata area`, at least one first level title is required as the article title, such as: ```markdown # Article title ## Title One Content One ``` or ```markdown Article title ## Title One Content One ``` * Add sidebar link in `sidebar.yaml` ```markdown items: label: Brief file: README.md label: First file: first.md ``` ## Use pictures There are three ways to use pictures in `.md` files: * Directly quote `url`, such as `https://teedoc.github.io/static/image/logo.png` or `/static/image/logo.png` * The relative path refers to the picture file. For example, `./assets/logo.png`. For example ``` doc1 ├── assets └── logo.png ├── config.json ├── README.md └── sidebar.yaml ``` This is a document in the project, there are `config` configuration files and `sidebar` files below. Directly quote `![logo](./assets/logo.png)` in the `README.md` file. **It should be noted that you can only refer to the pictures of the folder in the current document**, and you cannot use relative paths to refer to pictures outside of this document * If you need to refer to the resources of the path outside the current document, you can set the path mapping (`route`) to achieve, for example, there are files in the `docs` directory: ``` docs └── assets └── logo.png doc1 ├── config.json ├── README.md └── sidebar.yaml static ``` When we quote `![logo](../assets/logo.png)` in the `README.md` file, we will find that the image cannot be displayed To make this kind of reference available, you need to set it in `site_config` ```json \"route\": { \"docs\": { \"/doc1/\": \"docs/doc1\" }, \"assets\": { \"/static/\": \"static\", \"/assets/\": \"docs/assets\" } } ``` This setting can be used. > The reason is: We set the document under `docs/doc1` to render and copy it to the directory `out/doc1`, and copy `docs/assets` to `out/assets`, so the file under `out/doc1` The document directly uses the relative path to reference the resource files in the `out/assets` directory ## Locale setting Set the document Locale so that certain pages and texts are displayed in the corresponding language, for example, the search plugin will generate corresponding search prompts based on the document Locale, etc. In the `config/config.json` file, modify `\"locale\": \"en\"` to the actual Locale used, such as `zh`, `zh_CN`, `zh_TW`, `en_US`, `ja`, etc., more See more [i18n document](i18n.html) ## More examples For more information, please visit: [teedoc.neucrack.com](https://teedoc.neucrack.com/) or [teedoc.github.io](https://teedoc.github.io/) For more examples, visit: [github.com/teedoc/teedoc.github.io](https://github.com/teedoc/teedoc.github.io) or [https://github.com/teedoc/template](https://github.com/teedoc/template), or [sipeed wiki](https://github.com/sipeed/sipeed_wiki)"},"/get_started/en/usage/deploy_nginx.html":{"title":"Use nginx to deploy the website generated by teedoc to the server","content":" title: Use nginx to deploy the website generated by teedoc to the server keywords: teedoc, deployment, nginx desc: Use nginx to deploy the website generated by teedoc to the server Here is a brief introduction. For more detailed usage, please find documents or tutorials yourself, such as `HTTPS` ## Install nginx The server installs `nginx`, such as `ubuntu`: ``` sudo apt update sudo apt install nginx ``` ## Configure and start nginx service ``` nginx t ``` You can see the configuration file path, usually `/etc/nginx/nginx.conf`, you can see that the file contains `/etc/nginx/site enabled/` Check the following `default` file, you can see the statement ``` listen 80 default_server; root /var/www/html; ``` That is to monitor port `80`, the root directory of the website is here, we copy our website content here, that is, copy all files in the `out` directory to the `/var/www/html/` directory then: ``` service nginx start ``` You can access the website by visiting `http://ip:80`, `:80` can also be omitted, or it can be modified to other ports, because the website that has not been registered in China is not allowed to use port `80`, and the overseas server is no limit"},"/get_started/en/usage/list_files_by_size.html":{"title":"list all files in order of file size/find large files","content":" title: list all files in order of file size/find large files Keywords: find large files in a directory, sort by file size desc: Use the teedoc tool teedoc list files command to list all files according to the file size in the directory, which is convenient for finding large files Use the `teedoc` tool `teedoc list files` command to list all files according to the file size in the directory, which is convenient for finding large files Using help: ```` teedoc list files h ```` For example, to list all the files in the directory `my_doc` and sort them by file size, you can use this: ```` teedoc list files r my_doc all ```` Here ` r` is a recursive search, that is, it will search for subfolders, `all` represents all file formats, and other formats can also be specified, such as: ```` teedoc list files r my_doc jpg ```` You will see the sorted list of files. ```` 402.1 KiB 411708 : get_started/assets/images/jupyterlab.jpg 234.2 KiB 239864 : get_started/assets/images/pages_settings.jpg 215.7 KiB 220828 : get_started/assets/images/action_error.jpg 165.8 KiB 169815 : get_started/assets/images/action_error_log.jpg 139.6 KiB 142970 : get_started/assets/images/jupyterlab_1.jpg ```` If you want to remove file totally from git repo, refer to [github doc](https://docs.github.com/en/authentication/keeping your account and data secure/removing sensitive data from a repository) or refer to [gitee doc](https://gitee.com/help/articles/4232#article header2)"},"/get_started/en/usage/deploy_cloud.html":{"title":"Deploy the website generated by teedoc to the cloud service provider's web service","content":" title: Deploy the website generated by teedoc to the cloud service provider's web service keywords: teedoc, deployment, cloud service provider, cloud server, web service desc: Deploy the website generated by teedoc to the cloud service provider's web service Self built servers require you to purchase your own servers, configure servers, etc. It is not that difficult, but it is a little more complicated. Another option is to use web services provided by cloud service providers. All we have to do is to upload the generated html page file to the web service of the cloud service provider, and then we can access it through the domain name provided by the cloud service provider. We only need to pay the service provider (usually traffic + number of requests) cost). For example, the common ones are Alibaba Cloud, Tencent Cloud, AWS, Google Cloud, etc. For example, Alibaba Cloud provides OSS storage services, Tencent Cloud provides COS storage services, and is optimized for static websites, such as those without `.html` Accessing the link will automatically jump to the page with `.html`. > Note that some providers do not optimize static pages, and there may be some features that cannot be set. For example, Qiniuyun cannot support links without the end of `html`, such as `/test` cannot automatically go to `/test.html`, And by default, access to `/` is not automatically transferred to `/index.html`, and `404.html` cannot be read directly from the storage bucket, and needs to be manually uploaded to the configuration of Qiniuyun Here is Tencent Cloud as an example: ## create a bucket * Register a Tencent Cloud account and activate the COS storage service * Create a bucket, such as `teedoc`, you will get a bucket name (`bucket name`), such as `teedoc 1250000000`, and select the server address, such as `region` in Guangzhou is `ap guangzhou` * Enable the static website option in the settings, set the default home page to `index.html`, set the 404 page to `404.html`, if you don't need CDN, you can turn on mandatory HTTPS, so that users will always visit HTTPS sites * After setting the static site, you will get a domain name, such as `teedoc 1250000000.cos website.ap guangzhou.myqcloud.com`, this domain name is your website domain name, you can access your website through this domain name * If you need to customize your own domain name, you can modify the \"custom origin site domain name\". In fact, it is to set the CNAME record of your domain name to point to this domain name. For example, the CNAME record of `teedoc.example.com` points to `teedoc 1250000000.cos website.ap guangzhou.myqcloud.com`, after setting, you can access your website through `teedoc.example.com` * In addition, cloud service providers generally support CDN services. If your website has a small number of visits, you don't need to open CDN. If you have a large number of visits, you can open CDN, which can speed up the access speed, but it will increase the cost. In addition, when setting up CDN, it should be noted that the place of \"custom origin site domain name\" in the previous step should not be set, but directly set \"custom CDN acceleration domain name\". ## Upload website files The website file is generated by `teedoc`, in the `out` directory, be sure to use the `teedoc build` command to generate it, not the `teedoc serve` command to generate it! Then upload to Tencent Cloud: ```` teedoc upload progress raw cloud tencent region ... bucket ... secret_id ... secret_key ... out ```` Here `...` fill in the corresponding information, `secret_id` and `secret_key` click on the console avatar > select access management > API key management > create key, then you can see it, you can consider creating a special one Sub account, and then only give this sub account COS permissions, which can ensure a certain degree of security. In addition, if the progress bar cannot be printed in the automatic build system, add the parameter ` progress raw`; and the secret key is best hidden, for example, the action of github provides the function of `secret`: ```` teedoc upload progress raw cloud tencent region ${{ secrets.TENCENT_REGION }} bucket ${{ secrets.TENCENT_BUCKET }} secret_id ${{ secrets.TENCENT_SECRET_ID }} secret_key ${{ secrets.TENCENT_SECRET_KEY }} out ```` ## Update website files After uploading a file for the first time, you do not need to upload all the files every time in the future, you only need to upload the updated files, which can save time and traffic, such as: ```` teedoc upload progress raw cloud tencent region ... bucket ... secret_id ... secret_key ... old_out out ```` Here `old_out` is the website file generated last time, `out` is the website file generated this time, `teedoc upload` will automatically compare the two folders, and then upload only the updated file."},"/get_started/en/usage/start.html":{"title":"start writing document","content":" title: start writing document keywords: teedoc, markdown, jupyter notebook, html, document generation, alternative gitbook, website generation, static website, document writing desc: teedoc, convert markdown or jupyter notbook into html static web pages, introduce the basic use of teedoc ## Build and Preview Execute in the document directory with `site_config.json` ``` teedoc serve ``` After displaying `Starting server at 0.0.0.0:2333 ....`, it is fine Open the browser to visit: [http://127.0.0.1:2333](http://127.0.0.1:2333) Modify the file in real time. After saving the file, it will automatically rebuild the file after `3` seconds by default, and then the browser will automatically refresh > The delay time of automatic refresh can be set, you can add the ` t` parameter, for example, `teedoc t 0 serve` is set to a `0` second delay, > It can also be set in the document configuration, see the description of the configuration parameter `rebuild_changes_delay` below If you only need to build and generate HTML pages, you only need to execute ``` teedoc build ``` >! Note that if you are finally generating the release version of the document, you must use the `build` command to generate the website page, the page generated by the `serve` command can only be used for local preview, there will be redundant preview related code, which is not suitable Used in production deployment In addition, you can also specify the parameter ` d` or ` dir` to specify the document directory, so that you do not need to execute commands under the document directory, such as ``` teedoc d /home/teedoc/my_doc build ``` ## Build document delete The built document will be placed in the `out` directory, the program will not actively delete it, if you need to clear it, please delete it manually ## Document directory structure ``` ├─.github ├─docs │ ├─develop │ │ ├─en │ │ └─zh │ └─get_started │ ├─assets │ ├─en │ └─zh ├─pages │ └─index │ ├─en │ └─zh ├─static │ └─site_config.json ``` * `.github`: automatic build script, how to use it in later chapters * `docs`: document, contains multiple documents, each document is a separate folder * `pages`: pages, including homepages, 404 pages, etc. * `static`: static file folder, such as storing pictures * `site_config.json`: website configuration file * `config.json`: In addition to `site_config.json`, each document directory can have `config.json` to configure document related pages * `sidebar.json`: document directory Before looking at how to use the configuration file, you must keep in mind that the configuration file is very simple. **The configuration file has only two file names**, a unique document configuration file `site_config` and each document's own configuration file `config` ## Configuration file The configuration file can be a file in `json` or `yaml` format, choose the one you like. Don't be afraid if you haven't touched it before, search for a tutorial and take 10 minutes to learn it. If your document directory has a lot of content, it is recommended to use the `yaml` format, which looks more concise `teedoc` provides commands for converting between `json` and `yaml` formats ### From json to yaml ``` teedoc f ./config.json json2yaml ``` ### From yaml to json ``` teedoc f ./config.json yaml2json ``` ### From gitbook SUMMARY.md to json ```shell teedoc f ./SUMMARY.md summary2json ``` ### From gitbook SUMMARY.md to yaml ```shell teedoc f ./SUMMARY.md summary2yaml ``` ## site_config.json Site configuration Website configuration items, such as website name, page routing, plug in configuration, etc. The following sample configuration file looks like there are many configuration items, don’t be scared, in fact it is very simple, the main configuration items, mastered, thinking is easy The configuration file is in `json` format, for example: ```json { \"site_name\": \"teedoc\", \"site_slogon\": \"happy to write\", \"site_root_url\": \"/\", \"site_domain\": \"teedoc.github.io\", \"site_protocol\": \"https\", \"config_template_dir\": \"./\", \"source\": \"https://github.com/teedoc/teedoc.github.io/blob/main\", \"route\": { \"docs\": { \"/get_started/zh/\": \"docs/get_started/zh\", \"/develop/zh/\": \"docs/develop/zh\", }, \"pages\": { \"/\": \"pages/index/zh\", }, \"assets\": { \"/static/\": \"static\", \"/get_started/assets/\": \"docs/get_started/assets\" }, \"/blog/\": \"blog\" }, \"translate\": { \"docs\": { \"/get_started/zh/\": [ { \"url\": \"/get_started/en/\", \"src\": \"docs/get_started/en\" } ], \"/develop/zh/\": [ { \"url\": \"/develop/en/\", \"src\": \"docs/develop/en\" } ] }, \"pages\": { \"/\": [ { \"url\": \"/en/\", \"src\": \"pages/index/en\" } ] } }, \"executable\": { \"python\": \"python3\", \"pip\": \"pip3\" }, \"plugins\": { \"teedoc plugin markdown parser\":{ \"from\": \"pypi\", \"config\": { } }, \"teedoc plugin theme default\":{ \"from\": \"pypi\", \"config\": { \"dark\": true, \"env\":{ \"main_color\": \"#4caf7d\" }, \"css\": \"/static/css/custom.css\", \"js\": \"/static/js/custom.js\" } } } } ``` * `site_name`: site name * `site_slogon`: website slogan * `site_root_url`: website root directory path, use the default value `/`; if you need to put the generated content in the website folder (not the root directory folder), you can set * `site_domain`: website domain name, currently used place: generate `sitemap.xml` and `robots.txt` * `site_protocol`: website protocol, `http` or `https`, currently used place: generate `sitemap.xml` and `robots.txt` * `config_template_dir`: `config` template file, `config.json` or `config.yaml` in other document directories can be `import` the files in it, the default location is the directory where `site_config` is located * `source`: document source path, such as `https://github.com/teedoc/teedoc.github.io/blob/main`, where `main` is the main branch of the document, and `Edit this page' will be added to the document page `Button (link), click to jump to the source code of the corresponding file. You can leave it blank to not add a link. In addition, you can add `\"show_source\": \"Edit this page\"` in `config.json` to define the text content of the button as `Edit this page`, if you want the document to have no such button, set it to `\"show_source\": false`; you can also add `show_source: edit this page` or `show_source: false` in the header information of the file (`md` or `ipynb` file) to set * `route`: Web page routing, including routing of documents, pages and resource files, such as routing of documents ```json \"docs\": { \"/get_started/zh/\": \"docs/get_started/zh\", \"/get_started/en/\": \"docs/get_started/en\", \"/develop/zh/\": \"docs/develop/zh\", \"/develop/en/\": \"docs/develop/en\" }, ``` The `key` represents the `url` of the document in the final generated website, and the following value is the corresponding source document path. For example, the source document `docs/get_started/zh/README.md` will generate the file `out/get_started/zh/index.html` after construction. If it is not a `md` file (ie unsupported file), it will be left intact Copy files automatically, and finally the `out` directory is the generated website The same is true for `pages`, `assets` will not perform document conversion and directly copy to the corresponding directory * `translate`: Translate, specify the `url` and file path of the translated version corresponding to the document. Similarly, the `config` and `sidebar` configuration files are required under the path of the translated version, and `locale` is specified in the `config` file To achieve the specified document language to be translated, for example, Chinese can be `zh`, `zh_CN`, `zh_TW`, English is `en`, `en_US`, etc. The translated `sidebar` and the document path need to be consistent with the source document. If there is no translation, you can leave the translation file. When the user visits a page that has not been translated, it will jump to `no_tanslate.html` to indicate that there is no translation. For more details, please see [ Internationalization i18n](./i18n.html) * `executable`: executable program settings, here you can set the executable program names of `python` and `pip`, which will be used when installing the plug in * `plugins`: Plug in configuration, mainly composed of name, source, and configuration items. For the name, you can search for `teedoc plugin` in [github](https://github.com) to find open source plug ins. You are also welcome to participate in writing plug ins (you only need to use the `Python` syntax); Fill in the `from` field with `pypi`, if the plug in is downloaded locally, you can also fill in the folder path, or you can fill in the `git` path directly, such as `git+https://github.com/*****/* *****.git` The configuration items are determined by the specific plug in. For example, `teedoc plugin theme default` has the `dark` option to choose whether to enable the dark theme * `rebuild_changes_delay`: After detecting file changes, how many seconds to delay automatically regenerating the document, the browser will automatically refresh the page, the default is `3` seconds, the shortest can be set to `0` seconds, you can use `teedoc t 3 serve` or `teedoc delay serve` to override this setting * `robots`: Customize the content of `robots.txt`, such as `\"User agent\": \"*\"` means that all clients are allowed to crawl, which will have an impact on `SEO`. For example, crawling of `JPEG` pictures is not allowed: `\"Disallow\": \"/.jpeg$\"`, and access to the `admin` directory: `\"Disallow\": \"/admin\"` is not allowed, specifically and `robots.txt` Same format requirements * `layout_root_dir`: the root directory of the layout template, the default is `layout`, that is, when the layout template file is needed, it will automatically find it under this folder * `layout_i18n_dirs`: The international translation directory of `layout`, which can be a path such as `locales`, and in some special cases, multiple paths such as `[\"locales1\", \"locales2]` can also be set. The content of the file can be referred to [i18n](./i18n.md#plug in internationalization) production ## config.json document configuration This is the configuration for each document, placed in the root directory of each document, such as `docs/get_started/zh/config.json`, each document is independent of each other, you can set the same to keep the website navigation bar consistent Here you can configure the navigation bar of each document and the content of the footer (`footer`), and you can also set the `config` item of the plug in. The current document will override the configuration in `site_config.json` to achieve different Documents in different languages ​​(internationalization/i18n) or styles, etc. such as: ```json { \"import\": \"config_zh\", \"id\": \"teedoc_page\", \"class\": \"language_zh\", \"locale\": \"en_US\", \"navbar\": { \"title\": \"teedoc\", \"logo\": { \"alt\": \"teedoc logo\", \"src\": \"/static/image/logo.png\" }, \"home_url\": \"/\", \"items\": [ { \"url\": \"/get_started/zh/\", \"label\": \"Installation and Use\", \"position\": \"left\" }, { \"url\": \"/develop/zh/\", \"label\": \"Development\", \"position\": \"left\" }, { \"url\": \"https://github.com/neutree/teedoc\", \"label\": \"github\", \"target\": \"_blank\", \"position\": \"right\" }, { \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"url\": \"/get_started/zh/\", \"label\": \"Chinese\" }, { \"url\": \"/get_started/en/\", \"label\": \"English\" } ] } ] }, \"footer\":{ \"top\":[ { \"label\": \"Link\", \"items\": [ { \"label\": \"Use teedoc to build\", \"url\": \"https://github.com/neutree/teedoc\", \"target\": \"_blank\" }, { \"label\": \"Copyright © 2021 Neucrack\", \"url\": \"https://neucrack.com\", \"target\": \"_blank\" } ] }, { \"label\": \"Source\", \"items\": [ { \"label\": \"github\", \"url\": \"https://github.com/neutree/teedoc\", \"target\": \"_blank\" }, { \"label\": \"Source files of this website\", \"url\": \"https://github.com/teedoc/teedoc.github.io\", \"target\": \"_blank\" } ] } ], \"bottom\": [ { \"label\": \"*ICP备********号 1\", \"url\": \"https://beian.miit.gov.cn\", \"target\": \"_blank\" }, { \"label\": \"*Public Network Security No. ************\", \"url\": \"https://beian.miit.gov.cn/#/Integrated/index\", \"target\": \"_blank\" } ] }, \"plugins\": { \"teedoc plugin search\":{ \"config\": { \"search_hint\": \"Search\", \"input_hint\": \"Enter keywords, separate multiple keywords with spaces\", \"loading_hint\": \"Loading, please wait...\", \"download_err_hint\": \"Failed to download the file, please refresh and try again or check the network\", \"other_docs_result_hint\": \"Results from other documents\", \"curr_doc_result_hint\": \"Current document search result\" } } }, \"show_source\": \"Edit this page\" } ``` * `import`: You can import the configuration from the template file, the file name without suffix. For example, `site_config` set `config_template_dir` to `./`, fill in `\"import\": \"config_zh\"` here, it means to import `config_zh.json` (priority) or `config_zh in the same directory as `site_config` .yaml`. Then you can add the configuration of the current document, overwrite the template file, the same keywords, and modify different content. If it is an array (list), to replace the content of the template file, you need to add `id` to the array item of the template file. Keyword, then modify, if the `id` keyword is not specified, it will be appended to the array. For example, the template file `config_zh`: ```json { \"locale\": \"en_US\", \"navbar\": { \"title\": \"teedoc\", \"items\": [ { \"url\": \"/get_started/zh/\", \"label\": \"安装使用\", \"position\": \"left\" }, { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"url\": \"/zh\", \"label\": \"中文\" }, { \"url\": \"/en\", \"label\": \"English\" } ] } ] } } ``` The configuration file of a specific document: ```json { \"import\": \"config_zh\", \"navbar\": { \"title\": \"teedoc123\", \"items\": [ { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"items\": [ { \"url\": \"/get_started/zh\", \"label\": \"中文\" }, { \"url\": \"/get_started/en\", \"label\": \"English\" } ] } ] } } ``` * `id`: The `id` of the document. Generally, there is no need to write it. The `id` will be set to the `<html>` tags of all pages in the `config.json` directory. For example, if `teedoc_page` is set here, all pages in this directory will become `<html id \"teedoc_page\"> ... </html>`. If the `markdown` file has set `id`, this value will be overwritten, that is, each page can only have one `id`. * `class`: The `class` of the document, generally you don't need to write it. Set the `class` to the `<html>` tags of all pages in the `config.json` directory, and use spaces for multiple `class` Separate. For example, if `language_zh` is set here, all pages in this directory will become `<html class \"language_zh\"> ... </html>`. If `class` is set in the `markdown` file, it will be appended. For example, if `language_zh` is set in `config.json`, and `class: zh_readme` is set in `README.md`, the final result is `class \" language_zh zh_readme\"`. This function is convenient to customize the style of each page or the style of different documents. * `locale`: locale code, can found from [here](https://www.science.co.il/language/Locale codes.php), for example: `zh`, `zh_CN`, `en_US`, `ja` etc. Or get by program `babel`: ``` pip install babel pybabel list locales ``` * `navbar`: Navigation bar settings, each document can be individually set up the navigation bar, if you want to keep the entire website unified, you can modify each configuration to be the same. The keyword `type` is used in the first layer and is used to indicate the category of this label in the navigation bar. The values are: * `link`: normal link, this option is the default when you don’t write the `type` keyword * `list`: There are sub items, which will be displayed in the form of a drop down menu ![](../../assets/images/navbar.png) * `selection`: Single option, such as language selection. When the `type` keyword is not written and there is the `items` keyword, this option is the default ![](../../assets/images/navbar2.png) * `language`: If `translate` is set in `site_config`, the `items` of type `language` will be automatically filled in the language list, so we don't need to write the language list manually! The effect is the same as `selection` (in fact, the internal code is to automatically replace the `language` type with `selection`) ![](../../assets/images/navbar2.png) * `footer`: website footer, divided into upper and lower parts, and multiple columns can be added to the upper part, and each column can have multiple values * `plugins`: Configure the configuration items of the plug in, if it has been set in the `site_config.json`, it will be overwritten, that is, the priority of the child `config` is higher * `show_source`: Under the premise that the keyword `source` is set in `site_config.json`, it is the source code path of the document, such as `https://github.com/teedoc/teedoc.github.io/blob/main` , Where `main` is the main branch of the document, and the `Edit this page` button (link) will be added to the document page, click to jump to the corresponding file source code. Set `\"show_source\": \"Edit this page\"` to define the text content of the button as `Edit this page`, if you don't set it, the default is `Edit this page`, if you want the document to have this button, set it to `\"show_source\": false`; you can also add `show_source: edit this page` or `show_source: false` in the header information of the file (`md` or `ipynb` file) to set ## sidebar.json Document directory (sidebar) settings There is a directory for setting documents, one for each document, independent of each other The file path uses a relative path, just fill in the file name, `README.md` will be automatically converted to `index.html` In addition, you can also directly `url` without writing the path of `file`, such as `\"url\": \"/get_started/zh/\"`, at the same time you can set `\"target\":\"_blank\"` to open in a new window, otherwise Open in current window For the items in the first layer of `items`, if there is only `label` without `url`, `file` and `items`, a classification mark will be added to the sidebar, and the effect is as follows: ![](../../assets/images/sidebar.png) And you can add option `\"collapsed\": false` to show sub directory by default such as: ```yaml items: label: Introduction to teedoc file: README.md label: Install teedoc file: install/README.md label: Start writing document file: usage/start.md label: Plugin file: plugins/README.md collapsed: false items: label: Theme Plugin file: plugins/themes.md label: Other plugins file: plugins/others.md label: markdown syntax file: syntax/syntax_markdown.md label: Website using teedoc file: usage/sites.md label: More samples items: label: Second level subdirectory example items: label: Sample three level sub directory items: label: Article 1 file: more/example_docs/doc1.md label: Article 2 file: more/example_docs/doc2.md label: This is a link url: https://github.com/teedoc/teedoc target: _blank ``` or `json` format ```json { \"items\":[ { \"label\": \"Introduction to teedoc\", \"file\": \"README.md\" }, { \"label\": \"Install teedoc\", \"file\": \"install/README.md\" }, { \"label\": \"Start writing document\", \"file\": \"usage/start.md\" }, { \"label\": \"Plugin\", \"file\": \"plugins/README.md\", \"collapsed\": false, \"items\":[ { \"label\": \"Theme Plugin\", \"file\": \"plugins/themes.md\" }, { \"label\": \"Other plugins\", \"file\": \"plugins/others.md\" } ] }, { \"label\": \"markdown syntax\", \"file\": \"syntax/syntax_markdown.md\" }, { \"label\": \"Website using teedoc\", \"file\": \"usage/sites.md\" }, { \"label\": \"More samples\", \"items\":[ { \"label\": \"Second level subdirectory example\", \"items\":[ { \"label\": \"Sample three level sub directory\", \"items\":[ { \"label\": \"Article 1\", \"file\": \"more/example_docs/doc1.md\" } ] }, { \"label\": \"Article 2\", \"file\": \"more/example_docs/doc2.md\" } ] }, { \"label\": \"This is a link\", \"url\": \"https://github.com/teedoc/teedoc\", \"target\": \"_blank\" } ] } ] } ```"},"/get_started/en/usage/404.html":{"title":"Customize 404 page","content":" title: Customize 404 page keywords: teedoc, custom 404 page, 404 page internationalization desc: teedoc custom 404 page, and 404 page internationalization Support custom 404 page (the page displayed when accessing the wrong URL), and support 404 page internationalization ## Add 404 error page Set the mapping between the `url` of the website root directory and the path in the `site_config`, such as ```json \"route\": { \"pages\": { \"/\": \"pages/index/zh\" } }, \"translate\": { \"pages\": { \"/\": [{ \"url\": \"/en/\", \"src\": \"pages/index/en\" } ] } } ``` Here the website root directory (`/`) is mapped to the folder `pages/index/zh`, you only need to create the file `pages/index/zh/404.md`, and then add the content: ```markdown layout: 404.html ``` or ```markdown layout: 404 ``` Users will return to this page when they visit the wrong path ## 404 Error Page Internationalization The website root directory configuration mentioned above, if the `locale` is configured as `zh` in the `config` file under `pages/index/zh`, the content of the generated `/404.html` will be Chinese If the user's browser language is set in other languages, such as English `en`, it will try to jump to `/en/404.html`, so we only need to: * Configure the path mapping of `translate` in `site_config`, as shown in the example above * Then create a new `pages/index/en/404.md`, add content ```markdown layout: 404.html ``` >! If `locale` has a suffix, such as `zh_CN`, `en_US`, etc., the `404` page will automatically try to jump to the page in the same language as the browser setting, such as `/en_US/404.html`, `/en US/404.html`, `/en us/404.html`, `/en_us/404.html` stop redirecting until the page language and browser language are the same. When all links are tried to redirect It also stops jumping after failure If the language you need has not been translated, there are two ways: * Can be achieved through [Custom 404 page] (#Customize 404 error page content) * You can also contribute translation, go to [here](https://github.com/teedoc/teedoc/tree/main/plugins/teedoc plugin theme default/teedoc_plugin_theme_default), `fork` repository, and then `git clone` To your warehouse locally, add a new language to the `locales.cfg` file, and then execute `python trans_prepare.py`, which will generate a new translation file in the `locales` directory with the suffix `.po`, translate This file (to translate the `po` file, you can directly modify the text, or use other tools to translate), and then execute `python trans_finish.py` will generate a `mo` binary file, you can submit the changes without errors, and then in `github `Create `PR(Pull Request)` to contribute translation to `teedoc` repository ## Customize 404 error page content Modify the template directly based on the theme, or inherit the template of the theme, such as slightly changing the `body` part of the `404.html` page, just create a new `my_404.html` in the `layout` directory. Note that the file name cannot be the same Built in file name conflict, if conflict, it will prompt `generate html fail: maximum recursion depth exceeded in comparison`: ```markdown {% extends \"404.html\" %} {% block body_404 %} Here is body {{ bodysafe }} {% endblock%} ``` Then use this template in `404.md` ```markdown layout: my_404.html ```"},"/get_started/en/usage/i18n.html":{"title":"teedoc internationalization (i18n) (translation)","content":" title: teedoc internationalization (i18n) (translation) keywords: teedoc, i18n, internationalization, translation desc: teedoc internationalization (i18n), including plug in internationalization and document internationalization ## Introduction to Internationalization (i18n) If the document only uses one language, things are relatively simple, but the fact is that you often encounter the use of different languages: * For `teedoc`, it must support enough languages ​​or be easy to extend the translation. Because users may use different languages, it may be English, Chinese, or other languages, even if the user only uses one language * For users, you need to specify the language when you use it, so that `teedoc` can generate a suitable translation, and finally can customize the text when there is no translation, or participate in the translation So internationalization (abbreviation `i18n`) is very important, the following is an introduction to how to use internationalization in `teedoc` ## Document specified language Each document has a `config` (`config.yaml` or `config.json`) file, in which is added `locale`, which is a region (region corresponds to a language) keyword, such as Simplified Chinese ```json { \"locale\": \"zh_CN\", ... } ``` You can refer to [here](https://www.science.co.il/language/Locale codes.php) for the area code, and it can be found in [Wikipedia](https://en.wikipedia.org/wiki/Language_localisation) Check it out, or use a program to check it, such as ```shell pip install babel pybabel list locales ``` For example, `zh` `zh_CN` `zh_TW` `en` `en_US` `ja` etc. Only when the language of the document is correctly specified, can the content language of some documents be correct, such as the prompt language of the search plug in. The document pages in different languages ​​will generate the search prompt information in the corresponding language. ## Document content internationalization (translation) If you have a document and wish to have a translation in another language, there are several ways: * Using page translation plugins, users can choose to translate to almost any language, such as Google translation plugin `teedoc plugin google translate`, but the disadvantage is that machine translation may be inaccurate in some places * The user himself uses the browser's built in page translation function, which is the same as the plug in function * Create a new translation document for manual translation and proofreading If you need manual translation, you need to configure the `translate` keyword in `site_config`, such as editing `site_config` (`site_config.yaml` or `site_config.json`): ```json \"route\": { \"docs\": { \"/more/\": \"docs/more\" } }, \"translate\": { \"docs\": { \"/more/\": [ { \"url\": \"/more/en/\", \"src\": \"docs/more/en\" } ] } }, ``` This configuration means that the `html` files of the documents under the `docs/more` directory will be generated in the `out/more/` directory (that is, the `url` [/more/](/more/)); The English source file is in the `docs/more/en` directory, and the generated web page `url` is in [/more/en/](/more/en/). The advantage of this is that the translated documents can use relative paths to reference the resource files of the main documents, such as `../assets/`, whether it is a local editor preview or the final generated web page can be previewed normally. Don't worry about the path problem. On the other hand, you may want to put the Chinese and English translations separately, such as the `docs/get_started/zh` and `docs/get_started/en` directories, and share the resource files of `docs/get_started/assets`. It will be a little more complicated, and it is no longer recommended to use it in this way: ```json \"route\": { \"docs\": { \"/get_started/zh/\": \"docs/get_started/zh\" }, \"pages\": { \"/\": \"pages/index/zh\", }, \"assets\": { \"/get_started/assets/\": \"docs/get_started/assets\" } }, \"translate\": { \"docs\": { \"/get_started/zh/\": [ { \"url\": \"/get_started/en/\", \"src\": \"docs/get_started/en\" } ] }, \"pages\": { \"/\": [ { \"url\": \"/en/\", \"src\": \"pages/index/en\" } ] } }, ``` The Doc `\"/get_started/zh/\"` and the page `\"/\"` are both Chinese documents. Now we need to add English translations for them. Add translations under `translate` > `docs`, and specify `url` (the generated path, which needs to end with `/`) and `src` (the root directory of the translation document, which does not need to end with `/`) As you can see, we manually specify a resource file `\"assets\"` that is shared by Chinese and English documents, so that we can use relative paths `../assets` in the documents to reference the resource files, and preview them in the local editor. Then * Copy `config` (`config.yaml` or `config.json`) and `sidebar` (`sidebar.yaml` or `sidebar.json`) to the translation document directory. For example, here is `\"docs/get_started /en\"`, * Modify the `locale` value of `config` to `en`, add language option in `navbar`, and specify `type` as `language` * To translate `sidebar` into English, the structure needs to be the same as the source text, but the `label` is different. If it is not the same, a warning message will be displayed when building * Copy and translate the document that needs to be translated. It needs to have the same directory structure as the source document. If the user accesses an untranslated document through the sidebar, it will automatically display [no_translate.md](https://github.com/teedoc/teedoc/blob/main/teedoc/templates/no_translate.md) page, you can also create a new `no_translate.md` document in the translation directory to overwrite the default, it is recommended to modify based on the default ```json \"locale\": \"en\", \"navbar\": { \"items\": [ { \"id\": \"language\", \"label\": \"Language: \", \"position\": \"right\", \"type\": \"language\" } ] } ``` ## Layout template internationalization Use [custom layout](./layout_template.html), if you want to internationalize, you can use `{{gettext}}` for internationalization, for example: ```html {{gettext(\"Hello world\")}} ``` or ```html {{_(\"Hello world\")}} ``` Execute `teedoc build` or `teedoc serve` will automatically generate translation files in the `layout/locales` directory, and manually edit the `po` file in `layout/locales/`. > It will automatically generate two files `layout/i18n_babel.cfg` and `layout/i18n_locales.cfg`. The former is to set the scanned file, and the latter is to set the language to be translated. Modify it according to the situation. > Except for using the gettext method of Jinja2 template for translation, you can also use the method of web front end for translation, please refer to relevant information by yourself. ## Plug in internationalization The plug in uses `babel` for international rendering, using the format defined by [gettext](https://www.gnu.org/software/gettext/), you can use [gettext](https://www.gnu.org/ software/gettext/) generated, the translation file format is * `pot`: Translation template character file * `po`: Translation character file * `mo`: translated and compiled binary files for distribution to programs Here is [teedoc plugin search](https://github.com/teedoc/teedoc/tree/main/plugins/teedoc plugin search/teedoc_plugin_search) as an example, the search prompt needs to be internationalized There is the `locales` folder under the directory, the generation process: * Use `gettext` in `__init__.py` to use internationalization, and set the search for `py` file in `babel.cfg` * Execute `./trans_prepare.sh` to generate a translation file, and it will automatically find the translated string * Manually translate `locales/language directory/*.po` * Execute `./trans_finish.sh` to compile `po` to generate `mo` file * Run and use the `mo` file * Remember to add resource files to `package_data` of `setup.py` For rendering of `HTML template`, such as [teedoc plugin theme default](https://github.com/teedoc/teedoc/tree/main/plugins/teedoc plugin theme default/teedoc_plugin_theme_default), it will automatically Find the translation from the `locales` directory and use the `Jinja2` syntax in the template, such as ```jinja2 {% trans %}Sentences to be translated {% endtrans %} ``` The method of generating translation is the same as described above"},"/get_started/en/more/example_docs/heading_no_counter.html":{"title":"The title of the article is not automatically numbered","content":" title: The title of the article is not automatically numbered keywords: teedoc title automatically adds serial number, teedoc title automatically adds number, teedoc automatic number desc: By default, teedoc will automatically number the three level headings. You can cancel the automatic numbering by setting the class to heading_no_counter author: neucrack date: 2021 10 10 class: heading_no_counter By default, teedoc will automatically number the three level headings. Sometimes your article may not want to automatically number the headings. Add `class` to `heading_no_counter` at the beginning of `metadata` of the `md` file, for example ``` title: The title of the article is not automatically numbered class: heading_no_counter ``` If you want to cancel the automatic numbering of all document titles, set the plugin `heading_no_counter` to `true` in `site_config.json`, for example ```json \"plugins\": { \"teedoc plugin theme default\":{ \"from\": \"pypi\", \"config\": { \"heading_no_counter\": true } } } ``` # 2021/10/1 ## Activity ### Caught a fish * Digged an earthworm * Cut a small golden bamboo to make a fishing rod * Catch 10 small fish * The big fish is hooked and the rod is caught ### delicacy Fried small crucian carp ## Summarize Ah~ Motherland Ah~ life # 2021/10/2 ## Activity Lie flat"},"/get_started/en/more/example_docs/doc2.html":{"title":"TensorFlow Linux GPU + jupyterlab environment installation (Docker) (Ubuntu Deepin Manjaro)","content":" title: TensorFlow Linux GPU + jupyterlab environment installation (Docker) (Ubuntu Deepin Manjaro) keywords: tensorflow gpu jupyterlab docker deepin ubuntu linux environment install NVIDIA driver docker desc: GPU + Docker environment installation under Tensorflow Linux > Copyright statement: This article is neucrack's original article and follows the CC 4.0 BY SA copyright agreement. Please attach the original source link and this statement for reprinting. > Original link: [https://neucrack.com/p/116](https://neucrack.com/p/116) Using docker here, the installation environment is simpler (you only need to install the NVIDIA driver, you don’t need to install cuda, and of course you don’t have to worry about the cuda version) and stable~ And you can run multiple dockers at the same time, such as running multiple jupyterlabs at the same time for different people to use ## Install docker Install docker, **version must be 19.03 and above** (you can use `docker version` to view), if the version is lower than this version, later use of `nvidia docker` driver will fail and you will be prompted to find it gpu all` parameter ### Installation * If it is Manjaro, directly `yay S docker` * Other releases: See the official tutorial: https://docs.docker.com/install/linux/docker ce/debian/ > deepin is based on debian 9.0 > If it is deepin, you need to modify the unstable in `sudo vim /usr/share/python apt/templates/Deepin.info` to stable > And use the command `sudo add apt repository \"deb [arch amd64] https://download.docker.com/linux/debian stretch stable\"` ### Set up proxy If the download is slow, you may need to set up a proxy, or you can use a domestic mirror instead of an official mirror, such as daocloud mirror acceleration Docker proxy setting reference: https://neucrack.com/p/286 When you pull the image, you can set the proxy to make the pull faster. It is recommended to remove the proxy when creating the container ### Set the current user can access docker (non root) Reference here: https://docs.docker.com/install/linux/linux postinstall/ ``` sudo groupadd docker sudo usermod aG docker $USER newgrp docker # Or restart the terminal, if it does not take effect, you can restart ``` ### Common commands `docker images`: list image list `docker run [options] image_name [command]`: create a new container from the image `docker ps`: running container `docker ps a`: all containers, including those that are not running `docker rm container_name`: delete the container `docker rmi image_name`: delete image `docker start container_name`: start the container `docker attatch container_name`: attach to the container `docker exec conrainer_name [comand]`: execute commands in the container `docker logs container_name`: view container execution log `docker build t image_name .`: build an image from Dockerfile ### docker run common parameters ` it`: Enable interactive terminal ` rm`: delete in time, do not save the container, that is, delete after exit ` gpus all`: enable all GPU support ` p port1:port2`: host and container port mapping, port1 is the port of the host ` v volume1:volume2`: the disk mapping between the host and the container, volume1 is the folder of the host, such as mapping `/home/${USER}/notes` to `/tf/notes` ` name name`: Give the container a name. Without this parameter, the name is randomly generated ` device device:container_device`: hang on the device, such as `/dev/ttyUSB0:/dev/ttyUSB0` ` network host`: Use the host's network ` restart`: Automatically start, you can use this setting to start automatically, if you forget to run it, you can use `docker update restart always container name` to update ``` no: Do ​​not restart the container automatically. (default value) on failure: The container exits due to an error (the exit status of the container is not 0) restart the container unless stopped: Restart the container when it has been stopped or Docker stopped/restarted always: restart the container when the container has been stopped or Docker stopped/restarted ``` ## Install graphics card driver The graphics card installation part has written an independent article, refer to [Linux Nvidia graphics card installation](https://neucrack.com/p/252) ## Install mirror Refer to the official document: https://www.tensorflow.org/install/docker For example, my Ubuntu here: (Be sure to read the documentation, it may be different, there are updates) * Install [nvidia docker](https://github.com/NVIDIA/nvidia docker) Just follow the installation guide in the readme, for example, Ubuntu: ``` # Add the package repositories distribution $(. /etc/os release;echo $ID$VERSION_ID) curl s L https://nvidia.github.io/nvidia docker/gpgkey sudo apt key add curl s L https://nvidia.github.io/nvidia docker/$distribution/nvidia docker.list sudo tee /etc/apt/sources.list.d/nvidia docker.list sudo apt get update && sudo apt get install y nvidia container toolkit sudo systemctl restart docker ``` If it is deepin, you need to change the system version ``` distribution \"ubuntu18.04\" curl s L https://nvidia.github.io/nvidia docker/gpgkey sudo apt key add curl s L https://nvidia.github.io/nvidia docker/$distribution/nvidia docker.list sudo tee /etc/apt/sources.list.d/nvidia docker.list sudo apt get update && sudo apt get install y nvidia container toolkit sudo systemctl restart docker ``` If it is Manjaro, just command `yay S nvidia docker`! (If you encounter slow downloads, you can use poipo to set up a global proxy, refer to [Terminal proxy setting method](https://neucrack.com/p/275)) * Test whether nvidia docker and cuda can be used Use the image of `nvidia/cuda`, this image is just for testing, you can delete it when you use it up, if you don’t have a proxy set up, and you don’t want to spend too much time pulling the image, you can use this image directly instead of `tensorflow/tensorflow:latest gpu py3` this mirror or `neucrack/tensorflow gpu py3 jupyterlab` (or `daocloud.io/neucrack/tensorflow gpu py3 jupyterlab`) this mirror (recommended) (jupyterlab is installed on the basis of the former , And do better user rights management) ``` lspci grep i nvidia docker run gpus all rm nvidia/cuda nvidia smi ``` such as: ``` ➜ ~ sudo docker run gpus all rm nvidia/cuda nvidia smi Tue Mar 10 15:57:12 2020 + + NVIDIA SMI 440.64 Driver Version: 440.64 CUDA Version: 10.2 + + + GPU Name Persistence M Bus Id Disp.A Volatile Uncorr. ECC Fan Temp Perf Pwr:Usage/Cap Memory Usage GPU Util Compute M. + + 0 GeForce GTX 106... Off 00000000:01:00.0 On N/A 33% 39C P0 27W / 120W 310MiB / 6075MiB 0% Default + + + + + + Processes: GPU Memory GPU PID Type Process name Usage + + ``` ``` Wed Mar 11 02:04:26 2020 + + NVIDIA SMI 430.40 Driver Version: 430.40 CUDA Version: 10.1 + + + GPU Name Persistence M Bus Id Disp.A Volatile Uncorr. ECC Fan Temp Perf Pwr:Usage/Cap Memory Usage GPU Util Compute M. + + 0 GeForce GTX 108... Off 00000000:04:00.0 Off N/A 35% 41C P5 25W / 250W 0MiB / 11178MiB 0% Default + + + + 1 GeForce GTX 108... Off 00000000:81:00.0 Off N/A 39% 36C P5 19W / 250W 0MiB / 11178MiB 2% Default + + + + + + Processes: GPU Memory GPU PID Type Process name Usage No running processes found + + ``` If the driver version is too low, there will be a prompt to update the driver At the same time, notice that the cuda version is 10.2, maybe tensorflow only supports 10.1. If tensorflow is installed directly on the host, it will report an error and not support. The benefits of using docker here are reflected. Don’t bother, just make sure that the driver is installed. Up Deepin has an error ``` docker: Error response from daemon: OCI runtime create failed: container_linux.go:349: starting container process caused \"process_linux.go:449: container init caused \\\"process_linux.go:432: running prestart hook 0 caused \\\\\\\"error running hook: exit status 1, stdout:, stderr: nvidia container cli: ldcache error: open failed: /sbin/ldconfig.real: no such file or directory\\\\\\\\n\\\\\\\"\\\"\": unknown . ``` Refer to the solution here: https://github.com/NVIDIA/nvidia docker/issues/614 to solve: ``` ln s /sbin/ldconfig /sbin/ldconfig.real ``` docker error: `nvidia container cli: initialization error: cuda error: unknown error` Restart the system to be resolved ## Run tensorflow with GPU Pull the mirror, pull directly ``` docker pull neucrack/tensorflow gpu py3 jupyterlab # docker pull tensorflow/tensorflow:latest gpu py3 jupyter # docker pull tensorflow/tensorflow # docker pull tensorflow/tensorflow:latest gpu ``` The image on daocloud can be used in China, and the speed will be faster: ``` docker pull daocloud.io/neucrack/tensorflow gpu py3 jupyterlab ``` Execute the test statement: ``` docker run gpus all it rm neucrack/tensorflow gpu py3 jupyterlab python c \"import tensorflow as tf; print(' version:{}, gpu:{}, 1+2 {}'.format(tf.__version__, tf.test.is_gpu_available(), tf.add(1, 2).numpy()) );\" ``` > If daocloud is used, the image name needs to be changed to `daocloud.io/neucrack/tensorflow gpu py3 jupyterlab` If there is no problem, the following output will appear (it will be accompanied by a lot of debugging information and there may be warning messages, you can take a closer look): ``` version:2.1.0, gpu:True, 1+2 3 ``` ## Jupyterlab ``` docker run gpus all name jupyterlab gpu it p 8889:8889 e USER_NAME $USER e USER_ID `id u $USER` e GROUP_NAME `id gn $USER` e GROUP_ID `id g $USER` v /home/${USER}:/tf neucrack/tensorflow gpu py3 jupyterlab ``` > If daocloud is used, the image name needs to be changed to `daocloud.io/neucrack/tensorflow gpu py3 jupyterlab` Then you can use the browser to use `jupyterlab` at the address of `http://127.0.0.1:8889/`, and the directory corresponds to the set `/home/${USER}` directory ![jupyterlab](../../../assets/images/jupyterlab.jpg) ![jupyterlab.png](../../../assets/images/jupyterlab_1.jpg) Exit directly with `Ctrl+C` This container will always exist on the computer after it is created, you can use `docker ps a` to view it, and use it next time you start it ``` docker start jupyterlab_gpu ``` Can also be attached to the container: ``` docker attatch jupyterlab_gpu ``` Stop the container: ``` docker stop jupyterlab_gpu ``` Delete the container: ``` docker rm jupyterlab_gpu ``` Modify the user and root passwords so that you can use the `sudo` command ``` docker exec it jupyterlab_gpu /bin/bash passwd $USER passwd root ``` If you need to create a new container every time and delete it when you use it up, you only need to add a ` rm` parameter after the `run` command ## other questions * Prompt when running the program: ResourceExhaustedError: OOM when allocating tensor with shape[784,128] Use `nvidia smi` to view memory usage tensorflow will apply for (almost) all video memory at once: ``` ➜ ~ nvidia smi Fri Mar 20 09:18:48 2020 + + NVIDIA SMI 435.21 Driver Version: 435.21 CUDA Version: 10.1 + + + GPU Name Persistence M Bus Id Disp.A Volatile Uncorr. ECC Fan Temp Perf Pwr:Usage/Cap Memory Usage GPU Util Compute M. + + 0 GeForce GTX 108... Off 00000000:04:00.0 On N/A 0% 48C P2 60W / 250W 10726MiB / 11178MiB 0% Default + + + + 1 GeForce GTX 108... Off 00000000:81:00.0 Off N/A 0% 47C P2 58W / 250W 197MiB / 11178MiB 0% Default + + + + + + Processes: GPU Memory GPU PID Type Process name Usage 0 3099 G /usr/lib/xorg/Xorg 21MiB 0 40037 C /usr/bin/python3 10693MiB 1 40037 C /usr/bin/python3 185MiB + + ``` There may be too many processes using video memory, and some processes can be properly exited; It is also possible that the memory application is repeated, you can try to restart the container to solve it * Has been running without results Restart the docker container to solve it. Anyway, if something is indecisive, restart to solve it. . * Prompt `could not retrieve CUDA device count: CUDA_ERROR_NOT_INITIALIZED` Multi process may be used. The new process directly copies the environment of the current process, resulting in an error. The solution is ** the parent process needs to be imported**, which is imported separately when needed in the child process, instead of writing to the global, reference Here: https://abcdabcd987.com/python multiprocessing/ * `ImportError: libGL.so.1: cannot open shared object file: No such file or directory` ``` apt install libgl1 mesa glx ``` * `Failed to get convolution algorithm. This is probably because cuDNN failed to initialize` The graphics card memory is insufficient. Check if it is occupied by other programs. If there are multiple graphics cards, you can set the environment variable `CUDA_VISIBLE_DEVICES` to set the graphics card to be used. For example, there are three graphics cards, the subscripts are `0`, `1` , `2`, select the third card and set it to `2` ```python import os os.environ[\"CUDA_VISIBLE_DEVICES\"] '2' ``` ## Reference * [https://blog.csdn.net/liuzk2014/article/details/83190267](https://blog.csdn.net/liuzk2014/article/details/83190267) * https://devtalk.nvidia.com/default/topic/1047416/linux/nvidia driver is not loaded ubuntu 18 10 / * https://github.com/tensorflow/tensorflow/issues/394"},"/get_started/en/more/example_docs/multi_h1.html":{"title":"This is an article with multiple first-level titles (h1)","content":" title: This is an article with multiple first level titles (h1) keywords: teedoc first level heading desc: There is usually only one first level heading (h1) in the page, if you must use multiple first level headings, the effect is what this page looks like author: fzj date: 2021 10 10 # class: heading_no_counter # 2021/10/1 ## Activity ### Caught a fish * Digged an earthworm * Cut a small golden bamboo to make a fishing rod * Catch 10 small fish * The big fish is hooked and the rod is caught ### delicacy Fried small crucian carp ## Summarize Ah~ Motherland Ah~ life # 2021/10/2 ## Activity Lie flat Lie flat Lie flat Lie flat Lie flat Lie flat"},"/get_started/en/more/example_docs/doc1.html":{"title":"","content":""},"/get_started/en/more/history.html":{"title":"teedoc update history","content":" title: teedoc update history keywords: teedoc, markdown, jupyter notebook, html, 文档生成, 替代gitbook, 网站生成, 静态网站, 写文档, 更新历史 desc: teedoc's update history See [history.md](https://github.com/teedoc/teedoc/blob/main/history.md) All code commit history visit [code commit history](https://github.com/teedoc/teedoc/commits/main)"},"/get_started/en/syntax/syntax_jupyter.html":{"title":"Jupyter notebootk Support (.ipynb format)","content":"Thisarticleiswrittenbyjupyter(`.ipynb`format),thesourcedocument,pleaseclickontheupperrightcorner`Editthispage`toviewThe`jupyter notebook`plugin`teedoc plugin jupyter notebook parser`maynotbeusedbydefault,itneedstobeconfiguredinthe`site_config`file```json\"plugins\":{\"teedoc plugin jupyter notebook parser\":{\"from\":\"pypi\",\"config\":{}}}```##MarkdownmetadataheaderEach`md`filecanaddaheader,alsocalled`metadata`(metadatainChinese).Thearticleinformationissetthroughthesekeyvalues,andtheformatis`yaml`format.Ofcourse,thisfileheaderisoptional,oryoucanDonotwrite```markdown title:markdownsyntaxtags:teedoc,markdown,syntaxkeywords:teedoc,markdown,syntaxdesc:teedoc'smarkdownsyntaxintroductionandexamplesid:zh_readmeclass:zh_readmedraft:false#Startwitha#signtoindicateacomment ```*`title`:thetitleofthearticle,canbeusedifthereisnometadataheader```markdown#Articletitle```or```markdownarticletitle ```*`keywords`:Keywords,multiplekeywordsseparatedbycommas`,`willbeaddedtothe`html`header,whichisconvenientforsearchenginestocrawl,andwillnotbedisplayedonthepage.Canalsobewrittenin`yaml`listformat```markdownkeywords: teedoc markdown grammar```*`desc`:Thepagedescriptionwillbeaddedtothe`html`headerandwillnotbedisplayedonthepage,whichisconvenientforsearchenginestocrawl*`tags`:articletags,whichwillbedisplayedonthepage.Multipletagsareseparatedbycommas`,`,ortheycanbewrittenintheformatof`yaml`list,sameas`keywords`*`id`:The`id`ofthepage,whichwillbeaddedtothe`html`tag,suchas`<htmlid \"zh_readme\">...</html>`,usuallynotneeded,usuallyinasinglepageforacertainpageItmaybeusedwhencustomizing`css`alone,itwilloverridethesettingsin`config.json`*`class`:page`class`,separatedbycommas`,`,cannotbeset,itwilloverridethesettingsin`config.json`.Forexample,youcansetthe`css`styleofaspecificpagebysettingthisvalue.Forspecificsupportedstyles,see[themeplugindocumentation](../plugins/themes.md)*`layout`:Thelayouttemplateusedbythepage.Bydefault,theconfigurationinthethemepluginwillbeused.Ifyouneedtocustomizethelayoutofthispage,youcansetthisparameter.Thepathisrelativetothepathsetby`layout_root_dir`in`site_config`,`layout_root_dir`defaultsto`layout`,sotouse`layout/special_layout.html`justfillin`special_layout.html`.Forlayouttemplatesyntaxsee[layoutdocumentation](../usage/layout_template.md)*`date`:thelastupdatedate,theformatis`2022 09 15`*Ifnotset:Thelastmodificationtimeofthefilewillbeusedbydefault.Ifitisa`git`repository,itwillautomaticallygetthetimeofthelastcommitofthepagefrom`git`.Thesystemreadsthelastmodifiedtime(thisismostlikelyinaccurate).Inaddition,if`update`isfilledwithavalue,thelatestmodificationdatein`update`willbeused*Ifyoudon'twanttoshowthelastmodifieddate,disableitbysettingthevalueto`false`*Ifthe`update`valueisset,thevaluein`date`willstillbeusedfirst*`update`:updatehistory,anupdatehistorytablewillbegeneratedatthebeginningofthearticle,format:```markdownupdate: date:2022 09 15author:author1version:1.1.0content:updatedxxx date:2022 08 05author:author2version:1.0.0content:updatedxxx```*`update_open`:displayupdatehistoryornot,default`true`,setto`false`willcollapseupdatehistory(supportedbythemeplugin)*`draft`:Whetheritisadraft,thedefaultis`false`.Ifsetto`true`,thisfilewillbeignoredwhengeneratingthepage.##Markdownsyntax(thisisthesecondlevelheading)Markdownsyntaxcanreferto[Markdownsyntax](./syntax_markdown.md),`jupyter`'ssyntaxparsercomefrom[jupyterofficial](https://github.com/jupyter/nbconvert),somaybesomesyntaxnotsupportin`jupyter`notebookthatmarkdownfile(`.md`)alreadysupported.###Three levelheading####Four levelheadingSameasMarkdownpage,see[MarkdownSyntax](./syntax_markdown.md)pagefordetails###Three levelheading2####Four levelheading2##Link[Relativepath,README.mdfile](../README.md):`../README.md`,itwillbeautomaticallyconvertedto`index.html`[Relativepath,mdfile](./syntax_markdown.md):`./syntax_markdown.md`,whichwillbeconvertedintoalinkattheendofthedocument`.html`[Absolutepath,httpfile](https://storage.googleapis.com/tensorflow_docs/docs l10n/site/zh cn/tutorials/quickstart/beginner.ipynb):`https://.../beginner.ipynb`,theoriginallink,willnotbemodified[Relativepath,ipynbfile](./syntax_jupyter.ipynb):`./syntax_jupyter.ipynb`,whichwillbeconvertedintoalinkattheendofthedocument`.html`##Picture![](../assets/images/logo.png)##CodeThefollowingisthepythoncode,whichcancontaintheexecutionresult.Use`jupyter`or[jupyterlab](https://jupyter.org/install)or`vscode`locallytoexecutethecodeandsaveitprint(\"hello\")helloprint(\"world\\nworld\")world world##CodeoutputdisplaypictureTheimageofthecodeoutputwillbeintegratedinthepage:fromPILimportImageimg Image.open(\"../assets/images/logo.png\")frommatplotlibimportpyplotaspltprint(\"image\")plt.figure()plt.imshow(img)plt.show()print(\"image\")imageimage##mathSupports`tex`and`Latex`syntax,and`MathML`tagTwowaysofwriting,*Oneisinlineinline,wraptheequationwith`$`symbol,forexample```markdownThemass energyequation$E mc^2$isfamiliartoeveryone,right?```>Effect:>Mass energyequation$E mc^2$everyoneisfamiliarwith*Anothertype,blockequation,wraptheequationwith`$$`,suchas```markdown$$E mc^2$$```>Effect:>$$>E mc^2>$$Otherexamples:common:```markdownWhen$a\\ne0$,therearetwosolutionsto$ax^2+bx+c 0$andtheyare$$x { b\\pm\\sqrt{b^2 4ac}\\over2a}.$$```>When$a\\ne0$,therearetwosolutionsto$ax^2+bx+c 0$andtheyare>$$>x { b\\pm\\sqrt{b^2 4ac}\\over2a}.>$$"},"/get_started/en/syntax/syntax_html.html":{"title":"Write content directly from HTML files","content":"{% extends \"article.html\" %} {% block title %} # Write content directly from HTML files {% endblock %} {% block content %} ## Use HTML syntax directly Write content directly in HTML syntax. This file is written directly in html, click on the source code at the top right `edit this page`view ## Also supports [Jinja2](https://jinja.palletsprojects.com/) syntax {% raw %} {% extends \"article.html\" %} Note that \"article.html\" needs to be enclosed in quotation marks, otherwise it will prompt that the article cannot be found {% block title %} # Write content directly from HTML files {% endblock %} {% block content %} ## Use HTML syntax directly {% endblock %} {%endraw%} Here you can see that this page inherits from `article.html` and modifies `title` and `content` so that the navigation bar and side can be preserved bar, and use themes too. For the specific content that can be modified, you can view the source code of the template, the templates that can be used, and refer to the template files provided by the theme, such as the template files of the default theme at [here](https://github.com/teedoc/teedoc/tree/main) And the variables that the page can use refer to the variable description in [Custom Page Template](../usage/layout_template.html). ## html files are used as template files In addition to writing pages directly in html, you can also write a template in html first, put it in the `layout` directory, and use this template in the `.md` file. The content in the `.md` file will be passed to `html` in the `body` variable, directly through `{% raw %}{{ body safe }}{% endraw %}` use, Here `safe` means no escaping, so that html can be written directly in the `.md` file. See [Custom Page Templates](../usage/layout_template.html) for more custom template content. {% endblock %} "},"/get_started/en/syntax/syntax_markdown.html":{"title":"markdown syntax","content":" title: markdown syntax tags: teedoc, markdown, syntax keywords: teedoc, markdown, syntax desc: teedoc's markdown syntax introduction and examples update: date: 2021 09 19 version: Plugin v2.10.3 author: neucrack content: Metadata fully support yaml format Support <code>update</code> meta key to generate update history table Support customize header ID with <code>{#id}</code> syntax Support <code>tabset</code> syntax Support <code>details</code> syntax Support subscript and superscript syntax > This article is a document written using `Markdown`, using the page effect generated by `teedoc`, the source code of `Markdown` file can be found [here](https://github.com/teedoc/teedoc.github.io/blob/main/docs/get_started/en/syntax/syntax_markdown.md) ## Markdown using brief The file placed under the document directory, if it is a recognized file, such as `*.md`, it will be converted to `*.html`, if it is not recognized, such as `*.jpg`, it will be copied intact into the output folder (`out`). The default `Markdown` parsing is done by the plugin `teedoc plugin markdown parser`, which is used by default in the template project. If you need to link the documentation to the left directory, configure it in `sidebar.json` or `sidebar.yaml`. If you have used `Markdown`, it is also highly recommended to spend 2 minutes browsing it! ## Markdown basic content format You need to confirm that a `markdown` parser plugin is enabled in `site_config.json`, such as `teedoc plugin markdown parser`. Create a folder or file in the directory corresponding to `config.json`, such as `get_started/zh/syntax/syntax_markdown.md` (`README.md` will eventually generate `index.html`), pay attention to use `UTF 8` file encoding (do not use `Windows` default Notepad), it is recommended to use [vscode](https://code.visualstudio.com/) + `Markdown Preview Enhanced` plugin, the default file will be `UTF 8 `Encoding, if not, you can also click the encoding in the lower right corner and click the pop up option `Save with encoding` and select `UTF 8` to change the encoding. ![vscode_status_bar](../../assets/images/vscode_status_bar.png) ### Markdown metadata header Each `md` file can add a header, also called `metadata` (metadata in Chinese). The article information is set through these key values, and the format is `yaml` format. Of course, this file header is optional, or you can Do not write ```markdown title: markdown syntax tags: teedoc, markdown, syntax keywords: teedoc, markdown, syntax desc: teedoc's markdown syntax introduction and examples id: zh_readme class: zh_readme draft: false # Start with a # sign to indicate a comment ``` * `title`: the title of the article, can be used if there is no metadata header ```markdown # Article title ``` or ```markdown article title ``` * `keywords`: Keywords, multiple keywords separated by commas `,` will be added to the `html` header, which is convenient for search engines to crawl, and will not be displayed on the page. Can also be written in `yaml` list format ```markdown keywords: teedoc markdown grammar ``` * `desc`: The page description will be added to the `html` header and will not be displayed on the page, which is convenient for search engines to crawl * `tags`: article tags, which will be displayed on the page. Multiple tags are separated by commas `,`, or they can be written in the format of `yaml` list, same as `keywords` * `id`: The `id` of the page, which will be added to the `html` tag, such as `<html id \"zh_readme\">...</html>`, usually not needed, usually in a single page for a certain page It may be used when customizing `css` alone, it will override the settings in `config.json` * `class`: page `class`, separated by commas `,`, can not be set, it will override the settings in `config.json`. For example, you can set the `css` style of a specific page by setting this value. For specific supported styles, see [theme plugin documentation](../plugins/themes.html) * `layout`: The layout template used by the page. By default, the configuration in the theme plugin will be used. If you need to customize the layout of this page, you can set this parameter. The path is relative to the path set by `layout_root_dir` in `site_config`, `layout_root_dir` defaults to `layout`, so to use `layout/special_layout.html` just fill in `special_layout.html`. For layout template syntax see [layout documentation](../usage/layout_template.html) * `date`: the last update date, the format is `2022 09 15` * If not set: The last modification time of the file will be used by default. If it is a `git` repository, it will automatically get the time of the last commit of the page from `git`. The system reads the last modified time (this is most likely inaccurate). In addition, if `update` is filled with a value, the latest modification date in `update` will be used * If you don't want to show the last modified date, disable it by setting the value to `false` * If the `update` value is set, the value in `date` will still be used first * `update`: update history, an update history table will be generated at the beginning of the article, format: ```markdown update: date: 2022 09 15 author: author1 version: 1.1.0 content: updated xxx date: 2022 08 05 author: author2 version: 1.0.0 content: updated xxx ``` * `update_open`: display update history or not, default `true`, set to `false` will collapse update history(supported by theme plugin) * `draft`: Whether it is a draft, the default is `false`. If set to `true`, this file will be ignored when generating the page. ### Markdown content The content is written in `Markdown` syntax, because the main title will be converted into a `<h1>` tag, so it is recommended to start with the second level title in the content. Such a page has only one `<h1>` tag, which is convenient for search engines to crawl take, such as ```markdown title: teedoc ## Title one content. . . ## title two content. . . ``` ## title ### Level 3 heading #### Level 4 heading #### Level 4 Heading 2 #### Level 4 Heading 3 ##### Level 5 heading ###### Level 6 heading ### Title custom id {#custom id} Here the custom `id` is `custom id` Up to level 6 headings .. details::Markdown source code, click to expand ```markdown ### Level 3 heading #### Level 4 heading #### Level 4 Heading 2 #### Level 4 Heading 3 ##### Level 5 heading ###### Level 6 heading ### Title custom id {#custom id} Here the custom `id` is `custom id` ``` ## emphasis, italics, strikethrough We only know that **Earth** has the environment for humans to live, and ~~Mars~~, and maybe *other planets*. .. details::Markdown source code, click to expand ```markdown We only know that **Earth** has the environment for humans to live, and ~~Mars~~, and maybe *other planets*. ``` ## separator delimiter ```markdown *** ``` *** ## Link [relative path, README.md file](../index.html): `../README.md`, will be automatically converted to `index.html` [relative path, md file](./syntax_markdown.html): `./syntax_markdown.md`, will be converted to a link at the end of `.html` of the document [absolute path, http file](https://storage.googleapis.com/tensorflow_docs/docs l10n/site/en us/tutorials/quickstart/beginner.ipynb): `https://. . . /beginner.ipynb`, the original link, will not be modified [relative path, ipynb file](./syntax_jupyter.html): `./syntax_jupyter.ipynb`, will be converted to a link at the end of `.html` of the document .. details::Markdown source code, click to expand ```markdown [relative path, README.md file](../index.html) [relative path, md file](./syntax_markdown.html) [absolute path, http file](https://storage.googleapis.com/tensorflow_docs/docs l10n/site/en us/tutorials/quickstart/beginner.ipynb) [relative path, ipynb file](./syntax_jupyter.html) ``` ## list List item: * steamed stuffed bun * Steamed bun * Tea eggs * aaaaaaa * Secondary list * Secondary list * Secondary list * Three level list * Three level list *bbbbbb .. details::Markdown source code, click to expand ```markdown List item: * steamed stuffed bun * Steamed bun * Tea eggs * aaaaaaa * Secondary list * Secondary list * Secondary list * Three level list * Three level list *bbbbbb ``` ## code snippet This is an inline code `print(\"hello\")`, or emphasis `teedoc` ```python print(\"hello\") print(\"world\") ``` ```c #include \"stdio.h\" int main() { printf(\"hello world\"); } ``` .. details::Markdown source code, click to expand ```markdown This is an inline code `print(\"hello\")`, or emphasis `teedoc` ```python print(\"hello\") print(\"world\") ``` ```c #include \"stdio.h\" int main() { printf(\"hello world\"); } ``` ``` ## Comment (quote block) Below is a note > Here is a comment (`<blockquote></blockquote>`) > this is the second line of the comment ```python # Here is the code snippet in the comment print(\"hello\") ``` > Notes > comment nesting > comment nesting Use markdown syntax in block quotes > #### The quarterly results look great! > > Revenue was off the chart. > Profits were higher than ever. > > *Everything* is going according to **plan**. > ```c > printf(\"hello\"); > ``` .. details::Markdown source code, click to expand ```markdown Below is a note > Here is a comment (`<blockquote></blockquote>`) > this is the second line of the comment ```python # Here is the code snippet in the comment print(\"hello\") ``` > Notes > comment nesting > comment nesting Use markdown syntax in block quotes > #### The quarterly results look great! > > Revenue was off the chart. > Profits were higher than ever. > > *Everything* is going according to **plan**. > ```c > printf(\"hello\"); > ``` ``` ## warn The following is a warning message >! This is a warning message (`<blockquote class \"spoiler\"></blockquote>`) .. details::Markdown source code, click to expand ```markdown >! This is a warning message (`<blockquote class \"spoiler\"></blockquote>`) ``` ## Emoji The `emoji` syntax is not currently supported, but you can directly copy the emoji from the `emoji` to the document, for example: 🍊 🍇 😀 😅 😇 ## superscript H~2~O, y x^2^ .. details::Markdown source code, click to expand ```markdown H~2~O, y x^2^ ``` ## picture Resource files will be copied to the output folder (`out`), so the most important thing is how to reference them in the documentation * The easiest and recommended method Use relative paths: Resource files can be placed in the corresponding directory of the document, such as document `docs/get_started/zh`, you can create `docs/get_started/zh/assets/images/logo.png`, Then use relative path references in `docs/get_started/en/README.md`, i.e. `![](assets/images/logo.png)` * Advanced method This situation is suitable for multiple documents referencing resources in the same folder (`url`), which is convenient for maintaining multiple documents, such as multilingual translation, or reducing `CDN` traffic consumption. Use resources outside the document path, configured in `site_config.json` ```json { \"route\": { \"docs\": { \"/get_started/en/\": \"docs/get_started/en\", }, \"assets\": { \"/get_started/assets/\": \"docs/get_started/assets\" } } } ``` This setting will copy the entire directory of `docs/get_started/assets` to `/get_started/assets` So just use relative path references in `docs/get_started/en/README.md`, i.e. `![](../assets/images/logo.png)` To display this image, you need to set the `route` key in `site_config.json` ![This is an image](../../assets/images/logo.png) ![This is an image](../assets/images/logo.png) ![This is an image](../../assets/images/logo.png)![This is an image](../assets/images/logo.png) .. details::Markdown source code, click to expand ```markdown ![This is an image](../../assets/images/logo.png) ![This is an image](../assets/images/logo.png) ![This is an image](../../assets/images/logo.png)![This is an image](../assets/images/logo.png) ``` ## video Use the HTML `video` tag directly: ```html <video src \"https://****.com/***.mp4\" controls \"controls\" preload \"auto\">your brower not support play video</video> ``` There is no video here, so it is blank, put in the correct video and it can be played <video src \"\" controls \"controls\" preload \"auto\">your brower or site not support play video</video> ## iframe embedded web page The code shared by the general video platform can be used directly, you can set the width and height slightly <iframe src \"//player.bilibili.com/player.html?aid 52613549&bvid BV144411J72P&cid 92076022&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \" true\" style \"width:43vw;height:34vw;min width: 85%;\"> </iframe> .. details::Markdown source code, click to expand ```html <iframe src \"//player.bilibili.com/player.html?aid 52613549&bvid BV144411J72P&cid 92076022&page 1\" scrolling \"no\" border \"0\" frameborder \"no\" framespacing \"0\" allowfullscreen \" true\" style \"width:43vw;height:34vw;min width: 85%;\"> </iframe> ``` ## quote mark I can cook I am proud. [^ dry rice man] [^ Dry Rice Man]: Lao Tzu said This will be annotated at the end of the article .. details::Markdown source code, click to expand ```markdown I can cook I am proud. [^ dry rice man] [^ Dry Rice Man]: Lao Tzu said This will be annotated at the end of the article ``` ## sheet Header 1 *Header* 2 `Cell 1` [Cell 2](http://example.com) link Cell 3 **Cell 4** .. details::Markdown source code, click to expand ```markdown Header 1 *Header* 2 `Cell 1` [Cell 2](http://example.com) link Cell 3 **Cell 4** ``` ## task list [x] Mission 1 [x] Mission 2 [ ] Mission 3 [ ] Mission 4 .. details::Markdown source code, click to expand ```markdown [x] Mission 1 [x] Mission 2 [ ] Mission 3 [ ] Mission 4 ``` ## Title link (in page jump) For example, to jump to the title [iframe embedded web page] (#iframe embedded web page), just ```markdown [iframe embedded web page](#iframe embedded web page) ``` Here spaces are replaced with a minus sign ` `. In addition, if the title can also customize the `id`, such as ```markdown ## iframe embedded web page {#iframe embed} ``` ## HTML You can write `HTML` directly in the `md` file: <div class \"hello\"> hello <br/> <img src \"../../assets/images/logo.png\"/> </div> .. details::Markdown source code, click to expand Note that there are no blank lines ```html <div class \"hello\"> hello <img src \"../../assets/images/logo.png\"/> </div> ``` ## math Supports `tex` and `Latex` syntax, as well as `MathML` tags two spellings, * One is inline, wrap the equation with the `$` symbol, such as The mass energy equation $E mc^2$ is familiar to everyone, right? .. details::Markdown source code, click to expand ```markdown The mass energy equation $E mc^2$ is familiar to everyone, right? ``` * Another, block equation, wrap the equation with `$$`, such as $$ E mc^2 $$ .. details::Markdown source code, click to expand ```markdown $$ E mc^2 $$ ``` Other examples: common: When $a \\ne 0$, there are two solutions to $ax^2 + bx + c 0$ and they are $$ x { b \\pm \\sqrt{b^2 4ac} \\over 2a}. $$ .. details::Markdown source code, click to expand ```markdown When $a \\ne 0$, there are two solutions to $ax^2 + bx + c 0$ and they are $$ x { b \\pm \\sqrt{b^2 4ac} \\over 2a}. $$ ``` Divide by: $$ \\require{enclose} \\begin{array}{r} 13 \\\\[ 3pt] 4 \\enclose{longdiv}{52} \\\\[ 3pt] \\underline{4}\\phantom{2} \\\\[ 3pt] 12 \\\\[ 3pt] \\underline{12}\\\\0 \\end{array}\\\\ $$ .. details::Markdown source code, click to expand ```markdown $$ \\require{enclose} \\begin{array}{r} 13 \\\\[ 3pt] 4 \\enclose{longdiv}{52} \\\\[ 3pt] \\underline{4}\\phantom{2} \\\\[ 3pt] 12 \\\\[ 3pt] \\underline{12}\\\\0 \\end{array}\\\\ $$ ``` Boxed: $$ \\bbox[#cde, 3px,border:1px solid blue]{y x^2 1} $$ .. details::Markdown source code, click to expand ```markdown $$ \\bbox[#cde, 3px,border:1px solid blue]{y x^2 1} $$ ``` ## mermaid support Use mermaid to draw many types of charts. For detailed syntax and support, please see [official website](https://mermaid js.github.io/) ```mermaid sequenceDiagram Alice >>John: Hello John, how are you? loop Healthcheck John >>John: Fight against hypochondria end Note right of John: Rational thoughts! John >>Alice: Great! John >>Bob: How about you? Bob >>John: Jolly good! ``` .. details::Markdown source code, click to expand ```markdown ```mermaid sequenceDiagram Alice >>John: Hello John, how are you? loop Healthcheck John >>John: Fight against hypochondria end Note right of John: Rational thoughts! John >>Alice: Great! John >>Bob: How about you? Bob >>John: Jolly good! ``` ``` Or directly `html`: ```html <div class \"mermaid\"> sequenceDiagram Alice >>John: Hello John, how are you? loop Healthcheck John >>John: Fight against hypochondria end Note right of John: Rational thoughts! John >>Alice: Great! John >>Bob: How about you? Bob >>John: Jolly good! </div> ``` ## Tab page (tabset) support > Because it is not a standard Markdown syntax, currently only supported by teedoc, so choose to use it according to your needs > Of course, generalization of the format to other parsers is also welcome Effect: .. tabset::tab title (optional) :id: tabset1 ## Label one Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` ## Label two Content 2, you can use Markdown syntax ```java public class Main { public static void main(String[] args) { System.out.println(\"Hello World\"); } } ``` When selecting a tag in a page, the corresponding tag in the tag page with the same `id` will be automatically selected, but not if the `id` is different or the `id` is not set. .. tabset:: :id: tabset1 ## Label one Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` ## Label two Content 2, you can use Markdown syntax ```java public class Main { public static void main(String[] args) { System.out.println(\"Hello World\"); } } ``` .. tabset:: ## Label one Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` ## Label two Content 2, you can use Markdown syntax ```java public class Main { public static void main(String[] args) { System.out.println(\"Hello World\"); } } ``` .. details::Markdown source code, click to expand ```markdown Effect: (note that a blank line is required here) .. tabset::tab title (optional) :id: tabset1 (note that it must be aligned with the above tabset or more spaces) ## Label one Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` ## Label two Content 2, you can use Markdown syntax ```java public class Main { public static void main(String[] args) { System.out.println(\"Hello World\"); } } ``` ``` ## Details page (details) support > Because it is not a standard Markdown syntax, currently only supported by teedoc, so choose to use it according to your needs > Of course, generalization of the format to other parsers is also welcome This is a `Markdown` syntax for `HTML5` `details` tags, `HTML` is written like this: ```html <details> <summary>Title, click to expand</summary> <div class \"details content\"> <p>This is the content</p> </div> </details> ``` Effect: .. details::Title, click to expand Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` .. details:: title, expanded by default :open:true Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` .. details::Markdown source code, click to expand ```markdown .. details::Title, click to expand Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` .. details:: title, expanded by default :open:true Content 1, you can use Markdown syntax ```kotlin fun main() { println(\"Hello World\") } ``` ```"},"/get_started/en/usage/sites.html":{"title":"The website that uses teedoc","content":" title: The website that uses teedoc keywords: teedoc, sites use teedoc desc: teedoc, convert markdown or jupyter notbook into html static webpage, use teedoc website Site Brief Site source doc [teedoc official website](https://teedoc.github.io) a useful documentation website generator [teedoc/teedoc.github.io](https://github.com/teedoc/teedoc.github.io) [MaixPy](https://wiki.sipeed.com/maixpy/) Edge AI Computing Python SDK [sipeed/MaixPy_DOC](https://github.com/sipeed/MaixPy/tree/main/docs) [Sipeed Wiki](https://wiki.sipeed.com) Sipeed Official Wiki [sipeed/sipeed_wiki](https://github.com/sipeed/sipeed_wiki) [teedoc.github.io/re0 web teedoc/](https://teedoc.github.io/re0 web teedoc/) example site converted from gitbook site [teedoc/re0 web teedoc](https://github.com/teedoc/re0 web teedoc) [QuecPython](https://python.quectel.com/doc/) QuecPython documentation center [gitee](https://gitee.com/quecpython/Community document) [github](https://github.com/quecpython/Community document) [BPI Steam Doc](https://bpi steam.com/) BananaPi, Steam team documentation (Wiki), including open source software and open source hardware information, AIOT information, etc. [BPI STEAM/BPI Doc](https://github.com/BPI STEAM/BPI Doc) [udbg](https://udbg.github.io/) Dynamic binary analysis tools based on Lua [udbg/udbg.github.io](https://github.com/udbg/udbg.github.io) Looking forward to your use, welcome to [submit issue](https://github.com/teedoc/teedoc.github.io/issues) or PR to add your website"},"/get_started/en/no_translate.html":{"title":"no translation","content":" title: no translation class: md_page <div id \"visit_from\"></div> <div id \"no_translate_hint\">This page not translated yet</div> <div> <span id \"visit_hint\">Please visit</span> <a id \"translate_src\"></a> </div> <div> <script> function getQueryVariable(variable) { var query window.location.search.substring(1); var vars query.split(\"&\"); for (var i 0;i<vars.length;i++) { var pair vars[i].split(\" \"); if(pair[0] variable){return pair[1];} } return(false); } var ref getQueryVariable(\"ref\"); var from getQueryVariable(\"from\"); var link document.getElementById(\"translate_src\"); var fromDis document.getElementById(\"visit_from\"); link.href ref; link.text ref; fromDis.innerHTML from; </script> </div>"}}